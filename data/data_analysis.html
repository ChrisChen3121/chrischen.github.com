<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<!-- 2018-05-16 Wed 08:37 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DataAnalysis For Python</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="ChrisChen" />
<meta name="keywords" content="data analysis, python" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../styles/demo/css/demo.css"/>
<link href="https://fonts.proxy.ustclug.org/css?family=Roboto+Slab:400,700|Inconsolata:400,700" rel="stylesheet" type="text/css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "left",
        displayIndent: "5em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "left",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">DataAnalysis For Python</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgb0b766e">1. numpy</a>
<ul>
<li><a href="#org75fa5b3">1.1. ndarray</a></li>
<li><a href="#orgf81c7e5">1.2. matrix</a></li>
<li><a href="#orgf324b06">1.3. Conditional Logic</a></li>
<li><a href="#orgbf373b7">1.4. Transpose</a></li>
<li><a href="#orgfc8ff7a">1.5. Useful functions</a></li>
</ul>
</li>
<li><a href="#org0184bf6">2. pandas</a>
<ul>
<li><a href="#org64c96e3">2.1. Series</a></li>
<li><a href="#orgd3be230">2.2. DataFrame</a></li>
<li><a href="#org06bba0b">2.3. Indexing Options</a></li>
<li><a href="#orgb326103">2.4. Index</a></li>
<li><a href="#orgdfee568">2.5. Functionality</a></li>
<li><a href="#orga835b36">2.6. Statistic methods</a></li>
<li><a href="#org42a97e2">2.7. Hierarchical Indexing</a></li>
<li><a href="#orgf2eff1e">2.8. Panel</a></li>
<li><a href="#orgafe84d1">2.9. TimeSeries</a></li>
</ul>
</li>
<li><a href="#org5518e91">3. wrangling</a>
<ul>
<li><a href="#org8e5aeeb">3.1. Evaluate Data</a></li>
<li><a href="#org7cea74d">3.2. Wrangling Process</a></li>
<li><a href="#org9863c95">3.3. Data Input/Output</a></li>
<li><a href="#org9d3c71c">3.4. Concatenation</a></li>
<li><a href="#org730eed5">3.5. Reshaping and Pivoting</a></li>
<li><a href="#org107d3ab">3.6. Permutation(randomly reordering)</a></li>
<li><a href="#org7fbf75c">3.7. String Manipulation</a></li>
<li><a href="#orgd3090bd">3.8. Check Duplicates</a></li>
<li><a href="#orga3ca8b9">3.9. Others</a></li>
</ul>
</li>
<li><a href="#orgaea6428">4. plotting</a>
<ul>
<li><a href="#orgb40416a">4.1. Basic</a></li>
<li><a href="#org70629de">4.2. plot function</a></li>
<li><a href="#org9887ad0">4.3. pandas Plotting</a></li>
<li><a href="#org71c62c5">4.4. Saving Plots to File</a></li>
<li><a href="#org85040a4">4.5. interactive mode</a></li>
<li><a href="#orgbd98f65">4.6. add-ons</a></li>
</ul>
</li>
<li><a href="#orgadad26f">5. aggregation</a>
<ul>
<li><a href="#org82387cd">5.1. group by</a></li>
<li><a href="#org65372eb">5.2. groupby aggregation</a></li>
<li><a href="#org7471e0b">5.3. cut &amp; qcut</a></li>
<li><a href="#org26da8bc">5.4. fillna with group value</a></li>
<li><a href="#orga0219d1">5.5. pivot_table</a></li>
</ul>
</li>
<li><a href="#org019199c">6. other tools</a>
<ul>
<li><a href="#orge1a39ad">6.1. ipyparallel</a></li>
<li><a href="#orgfdb0903">6.2. Scipy</a></li>
<li><a href="#org91aeb35">6.3. statsmodels</a></li>
<li><a href="#org46e910d">6.4. Sympy</a></li>
<li><a href="#orgc8a4719">6.5. seaborn</a></li>
<li><a href="#orgb6ba57e">6.6. scikits</a></li>
<li><a href="#org8fa0583">6.7. Blaze</a></li>
<li><a href="#org04fd99f">6.8. bcolz</a></li>
<li><a href="#org52b234a">6.9. Enthought Tool-Suite (ETS)</a></li>
<li><a href="#org522bfea">6.10. dateutil</a></li>
<li><a href="#org3328040">6.11. bottleneck</a></li>
<li><a href="#orga46b433">6.12. SWIG</a></li>
<li><a href="#org769c78e">6.13. zipline</a></li>
</ul>
</li>
<li><a href="#org3dd20bd">7. hdf</a>
<ul>
<li><a href="#orgf47e4fb">7.1. dataset</a></li>
<li><a href="#orgf91ce53">7.2. lookup tools</a></li>
<li><a href="#org5746d4f">7.3. notice</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgb0b766e" class="outline-2">
<h2 id="orgb0b766e"><span class="section-number-2">1</span> numpy</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org75fa5b3" class="outline-3">
<h3 id="org75fa5b3"><span class="section-number-3">1.1</span> ndarray</h3>
<div class="outline-text-3" id="text-1-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #3a81c3; font-weight: bold;">import</span> numpy <span style="color: #3a81c3; font-weight: bold;">as</span> np
<span style="color: #715ab1;">py_array</span> = <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span>, <span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">3</span>, <span style="color: #4e3163;">4</span>, <span style="color: #4e3163;">5</span><span style="color: #3a81c3;">]</span>
<span style="color: #715ab1;">np_array</span> = np.array<span style="color: #3a81c3;">(</span>py_array<span style="color: #3a81c3;">)</span>
np_array.shape <span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; (5,)</span>
np_array.dtype <span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; dtype('int64')</span>

<span style="color: #715ab1;">py_array</span> = <span style="color: #3a81c3;">[</span><span style="color: #6c3163;">[</span><span style="color: #4e3163;">1</span>, <span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">3</span>, <span style="color: #4e3163;">4</span><span style="color: #6c3163;">]</span>, <span style="color: #6c3163;">[</span><span style="color: #4e3163;">5</span>, <span style="color: #4e3163;">6</span>, <span style="color: #4e3163;">7</span>, <span style="color: #4e3163;">8</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">]</span>
<span style="color: #715ab1;">np_array</span> = np.array<span style="color: #3a81c3;">(</span>py_array<span style="color: #3a81c3;">)</span>
np_array.shape <span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; (2, 4)</span>
np_array.ndim <span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; 2</span>

np.zeros<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">10</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.])</span>
np.ones<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">(</span><span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">3</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; array([[ 1.,  1.,  1.], [ 1.,  1.,  1.]])</span>
np.empty<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">(</span><span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">3</span>, <span style="color: #4e3163;">2</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[[ 0.,  0.],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#         </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 0.,  0.],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#         </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 0.,  0.]],</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[[ 0.,  0.],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#         </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 0.,  0.],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#         </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 0.,  0.]]])</span>

<span style="color: #715ab1;">array</span> = np.arange<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">5</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; array([0, 1, 2, 3, 4])</span>
<span style="color: #715ab1;">masked_array</span> = np.ma.masked_array<span style="color: #3a81c3;">(</span>array, array&lt;<span style="color: #4e3163;">3</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; [-- -- -- 3 4]</span>
np.random.randn<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">3</span><span style="color: #3a81c3;">)</span>

<span style="color: #715ab1;">np_array</span> = np.array<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #4e3163;">1</span>, <span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">3</span><span style="color: #6c3163;">]</span>, dtype=np.int32<span style="color: #3a81c3;">)</span>
<span style="color: #715ab1;">np_array</span> = np_array.astype<span style="color: #3a81c3;">(</span>np.float64<span style="color: #3a81c3;">)</span>
np_array.dtype <span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; dtype('float64')</span>

<span style="color: #715ab1;">x</span>, <span style="color: #715ab1;">y</span>=np.meshgrid<span style="color: #3a81c3;">(</span>np.arange<span style="color: #6c3163;">(</span><span style="color: #4e3163;">2</span><span style="color: #6c3163;">)</span>,np.arange<span style="color: #6c3163;">(</span><span style="color: #4e3163;">2</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">x=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[0, 1],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[0, 1]])</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">x=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[0, 0],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[1, 1]])</span>
</pre>
</div>
</div>
<div id="outline-container-org5ccbbfd" class="outline-4">
<h4 id="org5ccbbfd"><span class="section-number-4">1.1.1</span> Strides</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
indicating the number of bytes to "step" in order to advance
one element along a dimension, \(3 * 4 * 5\) array of float64(8-bytes)
has strides (160, 40, 8)
</p>
</div>
</div>

<div id="outline-container-org646c00b" class="outline-4">
<h4 id="org646c00b"><span class="section-number-4">1.1.2</span> Supported dtype</h4>
<div class="outline-text-4" id="text-1-1-2">
<ul class="org-ul">
<li>int8, uint8, int16, uint16, int32, uint32, int64, uint64</li>
<li>float16, float32, float64, float128</li>
<li>complex64, complex128, complex256</li>
<li>bool</li>
<li>object</li>
<li>string_</li>
<li>unicode_</li>
</ul>
</div>
</div>

<div id="outline-container-org82c26e7" class="outline-4">
<h4 id="org82c26e7"><span class="section-number-4">1.1.3</span> Creating</h4>
<div class="outline-text-4" id="text-1-1-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">array</td>
<td class="org-left">Convert input data (list, tuple, array, or other sequence type) to an ndarray</td>
</tr>

<tr>
<td class="org-left">asarray</td>
<td class="org-left">Convert input to ndarray, but do not copy if the input is already an ndarray</td>
</tr>

<tr>
<td class="org-left">arange</td>
<td class="org-left">Like the built-in range but returns an ndarray instead of a list.</td>
</tr>

<tr>
<td class="org-left">ones, ones_like</td>
<td class="org-left">Produce an array of all 1’s with the given shape and dtype.</td>
</tr>

<tr>
<td class="org-left">zeros, zeros_like</td>
<td class="org-left">Produce an array of all 0’s with the given shape and dtype.</td>
</tr>

<tr>
<td class="org-left">empty, empty_like</td>
<td class="org-left">Create new arrays by allocating new memory</td>
</tr>

<tr>
<td class="org-left">eye, identity</td>
<td class="org-left">Create a square N x N identity matrix (1’s on the diagonal and 0’s elsewhere)</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgacce561" class="outline-4">
<h4 id="orgacce561"><span class="section-number-4">1.1.4</span> Indexing</h4>
<div class="outline-text-4" id="text-1-1-4">
<p>
<a id="org8935f2f"></a>
</p>
</div>
<div id="outline-container-org7f2fb33" class="outline-5">
<h5 id="org7f2fb33">basic indexing</h5>
<div class="outline-text-5" id="text-org7f2fb33">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">arr</span> = np.array<span style="color: #3a81c3;">(</span><span style="color: #3a81c3;">range</span><span style="color: #6c3163;">(</span><span style="color: #4e3163;">12</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>.reshape<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">3</span>,<span style="color: #4e3163;">4</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[ 0,  1,  2,  3],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 4,  5,  6,  7],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 8,  9, 10, 11]])</span>

arr<span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span>:, :<span style="color: #4e3163;">3</span><span style="color: #3a81c3;">]</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[ 4,  5,  6],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 8,  9, 10]])</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5fbc58a" class="outline-5">
<h5 id="org5fbc58a">boolean indexing</h5>
<div class="outline-text-5" id="text-org5fbc58a">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">flags</span> = np.array<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #4e3163;">1</span>, <span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">3</span>, <span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">1</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
<span style="color: #715ab1;">data</span> = np.random.randn<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">6</span>,<span style="color: #4e3163;">2</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[ 2.11684529,  1.24861544],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[-0.34817586, -0.59905366],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[-0.84976431,  0.11840417],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 1.36648373,  1.33416664],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 0.37616856, -0.0032112 ],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[-0.7749904 , -0.60457688]])</span>
flags ==<span style="color: #4e3163;">2</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([False,  True, False,  True,  True, False], dtype=bool)</span>
data<span style="color: #3a81c3;">[</span>flags == <span style="color: #4e3163;">2</span><span style="color: #3a81c3;">]</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[-0.34817586, -0.59905366],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 1.36648373,  1.33416664],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 0.37616856, -0.0032112 ]])</span>
data<span style="color: #3a81c3;">[</span><span style="color: #6c3163;">(</span>flags == <span style="color: #4e3163;">3</span><span style="color: #6c3163;">)</span> | <span style="color: #6c3163;">(</span>flags == <span style="color: #4e3163;">1</span><span style="color: #6c3163;">)</span>, <span style="color: #4e3163;">1</span>:<span style="color: #3a81c3;">]</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[ 1.24861544],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 0.11840417],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[-0.60457688]])</span>
<span style="color: #715ab1;">data</span><span style="color: #3a81c3;">[</span>data&lt;<span style="color: #4e3163;">0</span><span style="color: #3a81c3;">]</span> = <span style="color: #4e3163;">0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[ 2.11684529,  1.24861544],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 0.        ,  0.        ],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 0.        ,  0.11840417],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 1.36648373,  1.33416664],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 0.37616856,  0.        ],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 0.        ,  0.        ]])</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org801d33f" class="outline-5">
<h5 id="org801d33f">fancy indexing</h5>
<div class="outline-text-5" id="text-org801d33f">
<p class="verse">
Fancy indexing is a term adopted by NumPy to describe indexing using <b>integer arrays</b> .<br />
Unlike slicing, <code>always copies the data into a new array</code> .<br />
</p>
<div class="org-src-container">
<pre class="src src-python">arr
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[ 0.,  0.,  0.,  0.],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 1.,  1.,  1.,  1.],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 2.,  2.,  2.,  2.]])</span>
arr<span style="color: #3a81c3;">[</span><span style="color: #6c3163;">[</span><span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">1</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">]</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[ 2.,  2.,  2.,  2.],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 1.,  1.,  1.,  1.]])</span>
<span style="color: #715ab1;">arr</span> = np.array<span style="color: #3a81c3;">(</span><span style="color: #3a81c3;">range</span><span style="color: #6c3163;">(</span><span style="color: #4e3163;">12</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>.reshape<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">3</span>,<span style="color: #4e3163;">4</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[ 0,  1,  2,  3],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 4,  5,  6,  7],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[ 8,  9, 10, 11]])</span>
arr<span style="color: #3a81c3;">[</span><span style="color: #6c3163;">[</span><span style="color: #4e3163;">1</span>,<span style="color: #4e3163;">2</span><span style="color: #6c3163;">]</span>, <span style="color: #6c3163;">[</span><span style="color: #4e3163;">2</span>,<span style="color: #4e3163;">3</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">]</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([ 6, 11]) # choose location (1, 2) (2, 3)</span>

arr<span style="color: #3a81c3;">[</span><span style="color: #6c3163;">[</span><span style="color: #4e3163;">1</span>,<span style="color: #4e3163;">2</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">][</span>:, <span style="color: #6c3163;">[</span><span style="color: #4e3163;">2</span>,<span style="color: #4e3163;">3</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">]</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[ 6,  7],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[10, 11]])</span>
arr<span style="color: #3a81c3;">[</span>np.ix_<span style="color: #6c3163;">(</span><span style="color: #2d9574;">[</span><span style="color: #4e3163;">1</span>,<span style="color: #4e3163;">2</span><span style="color: #2d9574;">]</span>, <span style="color: #2d9574;">[</span><span style="color: #4e3163;">2</span>,<span style="color: #4e3163;">3</span><span style="color: #2d9574;">]</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">]</span> <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">same effect</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([[ 6,  7],</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#        </span><span style="color: #2aa1ae; background-color: #ecf3ec;">[10, 11]])</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-orgf81c7e5" class="outline-3">
<h3 id="orgf81c7e5"><span class="section-number-3">1.2</span> matrix</h3>
<div class="outline-text-3" id="text-1-2">
<p>
matrix has two dimensions and implements row-column matrix multiplication
</p>
</div>
</div>
<div id="outline-container-orgf324b06" class="outline-3">
<h3 id="orgf324b06"><span class="section-number-3">1.3</span> Conditional Logic</h3>
<div class="outline-text-3" id="text-1-3">
</div>
<div id="outline-container-org8a67926" class="outline-4">
<h4 id="org8a67926"><span class="section-number-4">1.3.1</span> any, all</h4>
</div>
<div id="outline-container-org5452f30" class="outline-4">
<h4 id="org5452f30"><span class="section-number-4">1.3.2</span> numpy.where</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
The <b>numpy.where</b> function is a vectorized version of the ternary expression x if
condition else y. <b>numpy.where</b> is quicker than list comprehension.
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">xarr</span> = np.array<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #4e3163;">1</span>,<span style="color: #4e3163;">1</span>,<span style="color: #4e3163;">1</span>,<span style="color: #4e3163;">1</span>,<span style="color: #4e3163;">1</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
<span style="color: #715ab1;">yarr</span> = np.array<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #4e3163;">2</span>,<span style="color: #4e3163;">2</span>,<span style="color: #4e3163;">2</span>,<span style="color: #4e3163;">2</span>,<span style="color: #4e3163;">2</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
<span style="color: #715ab1;">cond</span> = np.array<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #4e3163;">True</span>, <span style="color: #4e3163;">False</span>, <span style="color: #4e3163;">True</span>, <span style="color: #4e3163;">False</span>, <span style="color: #4e3163;">False</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
np.where<span style="color: #3a81c3;">(</span>cond, xarr, yarr<span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([1, 2, 1, 2, 2])</span>
np.where<span style="color: #3a81c3;">(</span>cond, <span style="color: #4e3163;">4</span>, <span style="color: #4e3163;">3</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">array([4, 3, 4, 3, 3])</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgbf373b7" class="outline-3">
<h3 id="orgbf373b7"><span class="section-number-3">1.4</span> Transpose</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Simple transposing with <code>.T</code> is just a special case of <code>swapaxes</code>
</p>
</div>
</div>

<div id="outline-container-orgfc8ff7a" class="outline-3">
<h3 id="orgfc8ff7a"><span class="section-number-3">1.5</span> Useful functions</h3>
<div class="outline-text-3" id="text-1-5">
</div>
<div id="outline-container-org4227118" class="outline-4">
<h4 id="org4227118"><span class="section-number-4">1.5.1</span> Math</h4>
<div class="outline-text-4" id="text-1-5-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Method</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">sign</td>
<td class="org-left">Returns on array of 1 and -1 depending on the sign of the values</td>
</tr>

<tr>
<td class="org-left">sum</td>
<td class="org-left">Sum of all the elements in the array or along an axis. Zero-length arrays have sum 0</td>
</tr>

<tr>
<td class="org-left">mean</td>
<td class="org-left">Arithmetic mean. Zero-length arrays have NaN mean</td>
</tr>

<tr>
<td class="org-left">std, var</td>
<td class="org-left">Standard deviation and variance, respectively, with optional degrees of freedom adjustment</td>
</tr>

<tr>
<td class="org-left">min, max</td>
<td class="org-left">Minimum and maximum</td>
</tr>

<tr>
<td class="org-left">argmin, argmax</td>
<td class="org-left">Indices of minimum and maximum elements, respectively</td>
</tr>

<tr>
<td class="org-left">cumsum</td>
<td class="org-left">Cumulative sum of elements starting from 0</td>
</tr>

<tr>
<td class="org-left">cumprod</td>
<td class="org-left">Cumulative product of elements starting from 1</td>
</tr>

<tr>
<td class="org-left">abs, fabs</td>
<td class="org-left">Use <b>fabs</b> as a faster alternative for non-complex-valued data</td>
</tr>

<tr>
<td class="org-left">modf</td>
<td class="org-left">Return factional and integral parts of array as separate array</td>
</tr>

<tr>
<td class="org-left">rint</td>
<td class="org-left">Round elements to the nearest integer, preserving the dtype</td>
</tr>

<tr>
<td class="org-left">average</td>
<td class="org-left">Compute the weighted average along the specified axis.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org266f594" class="outline-4">
<h4 id="org266f594"><span class="section-number-4">1.5.2</span> Linear Algebra</h4>
<div class="outline-text-4" id="text-1-5-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">diag</td>
<td class="org-left">Return the diagonal (or off-diagonal) elements of a square matrix</td>
</tr>

<tr>
<td class="org-left">dot</td>
<td class="org-left"><b>Matrix multiplication</b></td>
</tr>

<tr>
<td class="org-left">trace</td>
<td class="org-left">Compute the sum of the diagonal elements</td>
</tr>

<tr>
<td class="org-left">det</td>
<td class="org-left">Compute the matrix determinant</td>
</tr>

<tr>
<td class="org-left">eig</td>
<td class="org-left">Compute the eigenvalues and eigenvectors of a square matrix</td>
</tr>

<tr>
<td class="org-left">inv</td>
<td class="org-left">Compute the inverse of a square matrix</td>
</tr>

<tr>
<td class="org-left">pinv</td>
<td class="org-left">Compute the Moore-Penrose pseudo-inverse inverse of a square matrix</td>
</tr>

<tr>
<td class="org-left">qr</td>
<td class="org-left">Compute the QR decomposition</td>
</tr>

<tr>
<td class="org-left">svd</td>
<td class="org-left">Compute the singular value decomposition (SVD)</td>
</tr>

<tr>
<td class="org-left">solve</td>
<td class="org-left">Solve the linear system Ax = b for x, where A is a square matrix</td>
</tr>

<tr>
<td class="org-left">lstsq</td>
<td class="org-left">Compute the least-squares solution to y = Xb</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgc658994" class="outline-4">
<h4 id="orgc658994"><span class="section-number-4">1.5.3</span> Random Number Generation</h4>
<div class="outline-text-4" id="text-1-5-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">seed</td>
<td class="org-left">Seed the random number generator</td>
</tr>

<tr>
<td class="org-left">permutation</td>
<td class="org-left">Return a random permutation of a sequence, or return a permuted range</td>
</tr>

<tr>
<td class="org-left">shuffle</td>
<td class="org-left">Randomly permute a sequence in place</td>
</tr>

<tr>
<td class="org-left">rand</td>
<td class="org-left">Draw samples from a uniform distribution</td>
</tr>

<tr>
<td class="org-left">randint</td>
<td class="org-left">Draw random integers from a given low-to-high range</td>
</tr>

<tr>
<td class="org-left">randn</td>
<td class="org-left">Draw samples from a normal distribution with mean 0 and standard deviation 1 (MATLAB-like interface)</td>
</tr>

<tr>
<td class="org-left">binomial</td>
<td class="org-left">Draw samples a binomial distribution</td>
</tr>

<tr>
<td class="org-left">normal</td>
<td class="org-left">Draw samples from a normal (Gaussian) distribution</td>
</tr>

<tr>
<td class="org-left">beta</td>
<td class="org-left">Draw samples from a beta distribution</td>
</tr>

<tr>
<td class="org-left">chisquare</td>
<td class="org-left">Draw samples from a chi-square distribution</td>
</tr>

<tr>
<td class="org-left">gamma</td>
<td class="org-left">Draw samples from a gamma distribution</td>
</tr>

<tr>
<td class="org-left">uniform</td>
<td class="org-left">Draw samples from a uniform [0, 1) distribution</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org18f45f9" class="outline-4">
<h4 id="org18f45f9"><span class="section-number-4">1.5.4</span> Set operations</h4>
<div class="outline-text-4" id="text-1-5-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">unique(x)</td>
<td class="org-left">Compute the sorted, unique elements in x</td>
</tr>

<tr>
<td class="org-left">intersect1d(x, y)</td>
<td class="org-left">Compute the sorted, common elements in x and y</td>
</tr>

<tr>
<td class="org-left">union1d(x, y)</td>
<td class="org-left">Compute the sorted union of elements</td>
</tr>

<tr>
<td class="org-left">in1d(x, y)</td>
<td class="org-left">Compute a boolean array indicating whether element of x is in y</td>
</tr>

<tr>
<td class="org-left">setdiff1d(x, y)</td>
<td class="org-left">Set difference, elements in x that are not in y</td>
</tr>

<tr>
<td class="org-left">setxor1d(x, y)</td>
<td class="org-left">Set symmetric differences; elements that are in either of the arrays, but not both</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="outline-container-org0184bf6" class="outline-2">
<h2 id="org0184bf6"><span class="section-number-2">2</span> pandas</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org64c96e3" class="outline-3">
<h3 id="org64c96e3"><span class="section-number-3">2.1</span> Series</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Series is a fixed-length <b>ordered dict</b>
</p>
</div>
</div>
<div id="outline-container-orgd3be230" class="outline-3">
<h3 id="orgd3be230"><span class="section-number-3">2.2</span> DataFrame</h3>
<div class="outline-text-3" id="text-2-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">df</span> = pd.DataFrame<span style="color: #3a81c3;">(</span>np.arange<span style="color: #6c3163;">(</span><span style="color: #4e3163;">8</span><span style="color: #6c3163;">)</span>.reshape<span style="color: #6c3163;">(</span><span style="color: #4e3163;">4</span>,<span style="color: #4e3163;">2</span><span style="color: #6c3163;">)</span>,
                  columns=<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'c1'</span>, <span style="color: #2d9574;">'c2'</span><span style="color: #6c3163;">]</span>, index=<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'r1'</span>, <span style="color: #2d9574;">'r2'</span>, <span style="color: #2d9574;">'r3'</span>, <span style="color: #2d9574;">'r4'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>

df.ix<span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'r1'</span><span style="color: #3a81c3;">]</span> <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">retrieve row</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c1    0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c2    1</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Name: r1, dtype: int64</span>

df.ix<span style="color: #3a81c3;">[</span><span style="color: #6c3163;">[</span><span style="color: #2d9574;">'r1'</span>,<span style="color: #2d9574;">'r2'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">]</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#     </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c1  c2</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r1   0   1</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r2   2   3</span>

df.T
<span style="color: #2aa1ae; background-color: #ecf3ec;">#     </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r1  r2  r3  r4</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c1   0   2   4   6</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c2   1   3   5   7</span>

<span style="color: #3a81c3; font-weight: bold;">del</span> df<span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'c2'</span><span style="color: #3a81c3;">]</span>

df.columns
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Index([u'c1'], dtype='object')</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org06bba0b" class="outline-3">
<h3 id="org06bba0b"><span class="section-number-3">2.3</span> Indexing Options</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>Common use: <code>obj[val], obj.ix[val], obj.ix[:, val], obj.ix[val1, val2], reindex</code></li>
<li><p>
Others:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">xs</td>
<td class="org-left">Select single row or column as a Series by label</td>
</tr>

<tr>
<td class="org-left">icol, irow, iloc, iat</td>
<td class="org-left">Select single column or row, respectively, as a Series by integer location</td>
</tr>

<tr>
<td class="org-left">get_value, set_value</td>
<td class="org-left">Select single value by row and column label</td>
</tr>
</tbody>
</table></li>
</ul>
</div>
<div id="outline-container-org3f77538" class="outline-4">
<h4 id="org3f77538"><span class="section-number-4">2.3.1</span> difference</h4>
<div class="outline-text-4" id="text-2-3-1">
<ul class="org-ul">
<li>loc: only work on index</li>
<li>iloc: work on position</li>
<li>ix: can get data from dataframe without it being in the index</li>
<li>at: get scalar values. It's a very fast loc</li>
<li>iat: get scalar values. It's a very fast iloc</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgb326103" class="outline-3">
<h3 id="orgb326103"><span class="section-number-3">2.4</span> Index</h3>
<div class="outline-text-3" id="text-2-4">
<p>
Index objects are immutable, functions as a fixed-size set.
</p>
<ul class="org-ul">
<li>main type: <code>Index, Int64Index, MultiIndex, DatetimeIndex, PeriodIndex</code></li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Method</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">append</td>
<td class="org-left">Concatenate with additional Index objects, producing a new Index</td>
</tr>

<tr>
<td class="org-left">diff</td>
<td class="org-left">Compute set difference as an Index</td>
</tr>

<tr>
<td class="org-left">intersection</td>
<td class="org-left">Compute set intersection</td>
</tr>

<tr>
<td class="org-left">union</td>
<td class="org-left">Compute set union</td>
</tr>

<tr>
<td class="org-left">isin</td>
<td class="org-left">Compute boolean array indicating whether each value is contained in the passed collection</td>
</tr>

<tr>
<td class="org-left">delete</td>
<td class="org-left">Compute new Index with element at index i deleted</td>
</tr>

<tr>
<td class="org-left">drop</td>
<td class="org-left">Compute new index by deleting passed values</td>
</tr>

<tr>
<td class="org-left">insert</td>
<td class="org-left">Compute new Index by inserting element at index i</td>
</tr>

<tr>
<td class="org-left">is_monotonic</td>
<td class="org-left">Returns True if each element is greater than or equal to the previous element</td>
</tr>

<tr>
<td class="org-left">is_unique</td>
<td class="org-left">Returns True if the Index has no duplicate values</td>
</tr>

<tr>
<td class="org-left">unique</td>
<td class="org-left">Compute the array of unique values in the Index</td>
</tr>
</tbody>
</table>
</div>
<div id="outline-container-org3235fff" class="outline-4">
<h4 id="org3235fff"><span class="section-number-4">2.4.1</span> pd.PeriodIndex</h4>
</div>
</div>

<div id="outline-container-orgdfee568" class="outline-3">
<h3 id="orgdfee568"><span class="section-number-3">2.5</span> Functionality</h3>
<div class="outline-text-3" id="text-2-5">
</div>
<div id="outline-container-org9852710" class="outline-4">
<h4 id="org9852710"><span class="section-number-4">2.5.1</span> Reindexing</h4>
<div class="outline-text-4" id="text-2-5-1">
<p>
Example:
</p>
<div class="org-src-container">
<pre class="src src-python">frame.reindex<span style="color: #3a81c3;">(</span>columns=<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'c1'</span>, <span style="color: #2d9574;">'c2'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
frame.reindex<span style="color: #3a81c3;">(</span>index=<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'a'</span>, <span style="color: #2d9574;">'b'</span>, <span style="color: #2d9574;">'c'</span>, <span style="color: #2d9574;">'d'</span><span style="color: #6c3163;">]</span>, method=<span style="color: #2d9574;">'ffill'</span>, columns=<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'c1'</span>, <span style="color: #2d9574;">'c2'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
frame.reindex<span style="color: #3a81c3;">(</span>frame2.index, method=<span style="color: #2d9574;">'ffill'</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">is similar to frame.ix[['a', 'b', 'c', 'd'], ['c1', 'c2']]</span>
</pre>
</div>
<p>
reindex args: index, method, fill_value, limit, level, copy
</p>
</div>
</div>
<div id="outline-container-org86559c8" class="outline-4">
<h4 id="org86559c8"><span class="section-number-4">2.5.2</span> Drop</h4>
<div class="outline-text-4" id="text-2-5-2">
<div class="org-src-container">
<pre class="src src-python">frame.drop<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #2d9574;">'r1'</span>, <span style="color: #2d9574;">'r2'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
frame.drop<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #2d9574;">'c1'</span>, <span style="color: #2d9574;">'c2'</span><span style="color: #6c3163;">]</span>, axis=<span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdde575a" class="outline-4">
<h4 id="orgdde575a"><span class="section-number-4">2.5.3</span> Selection</h4>
<div class="outline-text-4" id="text-2-5-3">
<p>
Indexing options:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">df[val]</td>
<td class="org-left">Select column</td>
</tr>

<tr>
<td class="org-left">df.loc[val]</td>
<td class="org-left">Select row</td>
</tr>

<tr>
<td class="org-left">df.loc[:, val]</td>
<td class="org-left">Select column</td>
</tr>

<tr>
<td class="org-left">df.loc[val1, val2]</td>
<td class="org-left">Select both column and row</td>
</tr>

<tr>
<td class="org-left">df.iloc[where]</td>
<td class="org-left">Select row by int position</td>
</tr>

<tr>
<td class="org-left">df.iloc[:, where]</td>
<td class="org-left">Select column by int position</td>
</tr>

<tr>
<td class="org-left">df.iloc[where_i, where_j]</td>
<td class="org-left">Select both column and row by int position</td>
</tr>

<tr>
<td class="org-left">df.at[label_i, label_j]</td>
<td class="org-left">Select a single scalar value by row and column label</td>
</tr>

<tr>
<td class="org-left">df.iat[i, j]</td>
<td class="org-left">Select a single scalar value by int position</td>
</tr>

<tr>
<td class="org-left">get_value, set_value</td>
<td class="org-left">Select single value by row and column label</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgad08b72" class="outline-4">
<h4 id="orgad08b72"><span class="section-number-4">2.5.4</span> Arithmetic</h4>
<div class="outline-text-4" id="text-2-5-4">
<ul class="org-ul">
<li>Basic df1 + df2,</li>
<li>use add method to fill na values: df1.add(df2, fill_value=0)</li>
</ul>
<ul class="org-ul">
<li>Operation between Dataframe and Series</li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">df</span> = pd.DataFrame<span style="color: #3a81c3;">(</span>np.arange<span style="color: #6c3163;">(</span><span style="color: #4e3163;">6</span><span style="color: #6c3163;">)</span>.reshape<span style="color: #6c3163;">(</span><span style="color: #4e3163;">3</span>,<span style="color: #4e3163;">2</span><span style="color: #6c3163;">)</span>,
                  columns=<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'c1'</span>, <span style="color: #2d9574;">'c2'</span><span style="color: #6c3163;">]</span>, index=<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'r1'</span>, <span style="color: #2d9574;">'r2'</span>, <span style="color: #2d9574;">'r3'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;">#     </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c1  c2</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r1   0   1</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r2   2   3</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r3   4   5</span>

<span style="color: #715ab1;">s</span> = pd.Series<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #4e3163;">4</span>,<span style="color: #4e3163;">5</span><span style="color: #6c3163;">]</span>, index=<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'c1'</span>, <span style="color: #2d9574;">'c2'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c1    4</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c2    5</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">dtype: int64</span>

df + s
<span style="color: #2aa1ae; background-color: #ecf3ec;">#     </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c1  c2</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r1   4   6</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r2   6   8</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r3   8  10</span>


<span style="color: #715ab1;">s2</span> = pd.Series<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #4e3163;">1</span>,<span style="color: #4e3163;">2</span>,<span style="color: #4e3163;">3</span><span style="color: #6c3163;">]</span>, index=<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'r1'</span>, <span style="color: #2d9574;">'r2'</span>, <span style="color: #2d9574;">'r3'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r1    1</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r2    2</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r3    3</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">dtype: int64</span>

df.add<span style="color: #3a81c3;">(</span>s2, axis=<span style="color: #4e3163;">0</span>, fill_value=<span style="color: #4e3163;">0</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#     </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c1  c2</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r1   1   2</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r2   4   5</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r3   7   8</span>

<span style="color: #715ab1;">df</span><span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'sum_c'</span><span style="color: #3a81c3;">]</span> = df.<span style="color: #3a81c3;">eval</span><span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'c1+c2'</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#     </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c1  c2  sum_c</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r1   0   1      1</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r2   2   3      5</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">r3   4   5      9</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2f5dd9a" class="outline-4">
<h4 id="org2f5dd9a"><span class="section-number-4">2.5.5</span> Broadcasting</h4>
<div class="outline-text-4" id="text-2-5-5">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">frame</span>=pd.DataFrame<span style="color: #3a81c3;">(</span>np.arange<span style="color: #6c3163;">(</span><span style="color: #4e3163;">12</span><span style="color: #6c3163;">)</span>.reshape<span style="color: #6c3163;">(</span><span style="color: #2d9574;">(</span><span style="color: #4e3163;">4</span>,<span style="color: #4e3163;">3</span><span style="color: #2d9574;">)</span><span style="color: #6c3163;">)</span>, columns=<span style="color: #3a81c3;">list</span><span style="color: #6c3163;">(</span><span style="color: #2d9574;">'bde'</span><span style="color: #6c3163;">)</span>, index=<span style="color: #3a81c3;">list</span><span style="color: #6c3163;">(</span><span style="color: #2d9574;">'1234'</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
<span style="color: #715ab1;">series</span> = frame.ix<span style="color: #3a81c3;">[</span><span style="color: #4e3163;">0</span><span style="color: #3a81c3;">]</span>
frame - series
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#    </span><span style="color: #2aa1ae; background-color: #ecf3ec;">b  d  e</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">1  0  0  0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2  3  3  3</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">3  6  6  6</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">4  9  9  9</span>

<span style="color: #715ab1;">series2</span> = pd.Series<span style="color: #3a81c3;">(</span><span style="color: #3a81c3;">range</span><span style="color: #6c3163;">(</span><span style="color: #4e3163;">3</span><span style="color: #6c3163;">)</span>, index=<span style="color: #3a81c3;">list</span><span style="color: #6c3163;">(</span><span style="color: #2d9574;">'bef'</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
frame + series2
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#      </span><span style="color: #2aa1ae; background-color: #ecf3ec;">b   d     e   f</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">1  0.0 NaN   3.0 NaN</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2  3.0 NaN   6.0 NaN</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">3  6.0 NaN   9.0 NaN</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">4  9.0 NaN  12.0 NaN</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbe6a1a0" class="outline-4">
<h4 id="orgbe6a1a0"><span class="section-number-4">2.5.6</span> Apply</h4>
<div class="outline-text-4" id="text-2-5-6">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">f</span> = <span style="color: #3a81c3; font-weight: bold;">lambda</span> x: x.<span style="color: #3a81c3;">max</span><span style="color: #3a81c3;">()</span>
frame.<span style="color: #3a81c3;">apply</span><span style="color: #3a81c3;">(</span>f<span style="color: #3a81c3;">)</span>
frame.<span style="color: #3a81c3;">apply</span><span style="color: #3a81c3;">(</span>f, axis=<span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span>
</pre>
</div>
<p>
<b>apply</b> can also return a Series
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #3a81c3; font-weight: bold;">def</span> <span style="color: #6c3163; font-weight: bold;">f</span><span style="color: #3a81c3;">(</span>x<span style="color: #3a81c3;">)</span>:
    <span style="color: #3a81c3; font-weight: bold;">return</span> pd.Series<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span>x.<span style="color: #3a81c3;">min</span><span style="color: #2d9574;">()</span>, x.<span style="color: #3a81c3;">max</span><span style="color: #2d9574;">()</span><span style="color: #6c3163;">]</span>, index=<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'min'</span>, <span style="color: #2d9574;">'max'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
frame.<span style="color: #3a81c3;">apply</span><span style="color: #3a81c3;">(</span>f<span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;    a   b</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">min xxx xxx</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">max xxx xxx</span>
</pre>
</div>
<ul class="org-ul">
<li><b>map</b> method for applying an element-wise function on a Series</li>
<li><b>applymap</b> for applying an element-wise function on a DataFrame</li>
</ul>
</div>
</div>
<div id="outline-container-org469e05c" class="outline-4">
<h4 id="org469e05c"><span class="section-number-4">2.5.7</span> Sort</h4>
<div class="outline-text-4" id="text-2-5-7">
<div class="org-src-container">
<pre class="src src-python">df.sort_index<span style="color: #3a81c3;">()</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">by column(s)</span>
df.sort_values<span style="color: #3a81c3;">(</span>by=<span style="color: #2d9574;">'c1'</span><span style="color: #3a81c3;">)</span>
df.sort_values<span style="color: #3a81c3;">(</span>by=<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'c1'</span>, <span style="color: #2d9574;">'c2'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>

series.sort_values<span style="color: #3a81c3;">()</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org28cbae9" class="outline-4">
<h4 id="org28cbae9"><span class="section-number-4">2.5.8</span> Rank</h4>
<div class="outline-text-4" id="text-2-5-8">
<p>
By default, rank breaks ties by assigning each group the mean rank
</p>
<ul class="org-ul">
<li>args: 'average'(default), 'min', 'max', 'first'</li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">obj</span> = pd.Series<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #4e3163;">7</span>, -<span style="color: #4e3163;">5</span>, <span style="color: #4e3163;">7</span>, <span style="color: #4e3163;">4</span>, <span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">0</span>, <span style="color: #4e3163;">4</span>, <span style="color: #4e3163;">7</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
obj.rank<span style="color: #3a81c3;">()</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">0    7.0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">1    1.0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2    7.0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">3    4.5</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">4    3.0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">5    2.0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">6    4.5</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">7    7.0</span>
obj.rank<span style="color: #3a81c3;">(</span>method=<span style="color: #2d9574;">'first'</span>, ascending=<span style="color: #4e3163;">False</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">0    1.0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">1    7.0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2    2.0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">3    3.0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">4    5.0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">5    6.0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">6    4.0</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3aa0979" class="outline-4">
<h4 id="org3aa0979"><span class="section-number-4">2.5.9</span> Other funtions</h4>
<div class="outline-text-4" id="text-2-5-9">
<ul class="org-ul">
<li>numpy <b>ufancs</b> works fine with pandas objects</li>
<li>isnull, notnull, dropna, fillna</li>
<li>stack, unstack, swaplevel, sortlevel</li>
<li>set_index, reset_index</li>
<li>unique(series based), value_counts(series based), isin(element-wise)</li>
<li>all, any</li>
<li>replace</li>
<li>cut, qcut</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orga835b36" class="outline-3">
<h3 id="orga835b36"><span class="section-number-3">2.6</span> Statistic methods</h3>
<div class="outline-text-3" id="text-2-6">
<p>
Basic:
count, describe, min, max, quantile, sum, pct_change, diff, corr, cov, corrwith
</p>
</div>
<div id="outline-container-org56b90a6" class="outline-4">
<h4 id="org56b90a6"><span class="section-number-4">2.6.1</span> mean, median, mad, var, std</h4>
</div>
<div id="outline-container-org4525154" class="outline-4">
<h4 id="org4525154"><span class="section-number-4">2.6.2</span> argmin, argmax, idxmin, idxmax</h4>
<div class="outline-text-4" id="text-2-6-2">
<p>
argmin/argmax: compute index locations (integers) at which minimum or maximum value obtained, respectively
</p>
</div>
</div>

<div id="outline-container-org846046a" class="outline-4">
<h4 id="org846046a"><span class="section-number-4">2.6.3</span> cumsum, cummin, cummax, cumprod</h4>
</div>
<div id="outline-container-org5c47f7d" class="outline-4">
<h4 id="org5c47f7d"><span class="section-number-4">2.6.4</span> skew</h4>
<div class="outline-text-4" id="text-2-6-4">
<p>
Sample skewness (3rd moment) of values
</p>
</div>
</div>

<div id="outline-container-org1aa0524" class="outline-4">
<h4 id="org1aa0524"><span class="section-number-4">2.6.5</span> kurt</h4>
<div class="outline-text-4" id="text-2-6-5">
<p>
Sample kurtosis (4th moment) of values
</p>
</div>
</div>

<div id="outline-container-org1e63212" class="outline-4">
<h4 id="org1e63212"><span class="section-number-4">2.6.6</span> diff</h4>
<div class="outline-text-4" id="text-2-6-6">
<p>
Compute 1st arithmetic difference (useful for time series)
</p>
</div>
</div>

<div id="outline-container-orga3d5c0a" class="outline-4">
<h4 id="orga3d5c0a"><span class="section-number-4">2.6.7</span> corr, cov, corrwith</h4>
<div class="outline-text-4" id="text-2-6-7">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #3a81c3; font-weight: bold;">import</span> pandas_datareader <span style="color: #3a81c3; font-weight: bold;">as</span> pdr

<span style="color: #715ab1;">all_data</span> = <span style="color: #3a81c3;">{}</span>
<span style="color: #3a81c3; font-weight: bold;">for</span> ticker <span style="color: #3a81c3; font-weight: bold;">in</span> <span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'AAPL'</span>, <span style="color: #2d9574;">'IBM'</span>, <span style="color: #2d9574;">'MSFT'</span>, <span style="color: #2d9574;">'GOOG'</span><span style="color: #3a81c3;">]</span>:
    <span style="color: #715ab1;">all_data</span><span style="color: #3a81c3;">[</span>ticker<span style="color: #3a81c3;">]</span> = pdr.get_data_yahoo<span style="color: #3a81c3;">(</span>ticker, <span style="color: #2d9574;">'1/1/2000'</span>, <span style="color: #2d9574;">'1/1/2010'</span><span style="color: #3a81c3;">)</span>

<span style="color: #715ab1;">price</span> = pd.DataFrame<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">{</span>tic: data<span style="color: #2d9574;">[</span><span style="color: #2d9574;">'Adj Close'</span><span style="color: #2d9574;">]</span> <span style="color: #3a81c3; font-weight: bold;">for</span> tic, data <span style="color: #3a81c3; font-weight: bold;">in</span> all_data.iteritems<span style="color: #2d9574;">()</span><span style="color: #6c3163;">}</span><span style="color: #3a81c3;">)</span>
<span style="color: #715ab1;">returns</span> = price.pct_change<span style="color: #3a81c3;">()</span>

returns.MSFT.corr<span style="color: #3a81c3;">(</span>returns.IBM<span style="color: #3a81c3;">)</span>
returns.MSFT.cov<span style="color: #3a81c3;">(</span>returns.IBM<span style="color: #3a81c3;">)</span>

returns.corr<span style="color: #3a81c3;">()</span>
returns.corrwith<span style="color: #3a81c3;">(</span>returns.IBM<span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf520a1d" class="outline-4">
<h4 id="orgf520a1d"><span class="section-number-4">2.6.8</span> common args</h4>
<div class="outline-text-4" id="text-2-6-8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Method</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">axis</td>
<td class="org-left">Axis to reduce over. 0 for DataFrame’s rows and 1 for columns</td>
</tr>

<tr>
<td class="org-left">skipna</td>
<td class="org-left">Exclude missing values, True by default</td>
</tr>

<tr>
<td class="org-left">level</td>
<td class="org-left">Reduce grouped by level if the axis is hierarchically-indexed (MultiIndex)</td>
</tr>
</tbody>
</table>

<p>
<b>skipna</b> option:
</p>
<ul class="org-ul">
<li>True(default): NA values are excluded unless the entire slice (row or column in this case) is NA</li>
<li>False: if any value is <b>NA</b>, then return <b>NA</b></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org42a97e2" class="outline-3">
<h3 id="org42a97e2"><span class="section-number-3">2.7</span> Hierarchical Indexing</h3>
<div class="outline-text-3" id="text-2-7">
</div>
<div id="outline-container-orgd28915b" class="outline-4">
<h4 id="orgd28915b"><span class="section-number-4">2.7.1</span> Indexing</h4>
<div class="outline-text-4" id="text-2-7-1">
<div class="org-src-container">
<pre class="src src-example">data[index_level1]
data[index_level1 : index_level1]
data[[index_level1, index_level1]]

select by inner level:
data[:, index_level2]
</pre>
</div>
</div>
</div>
<div id="outline-container-org5d5562d" class="outline-4">
<h4 id="org5d5562d"><span class="section-number-4">2.7.2</span> stack, unstack</h4>
</div>
<div id="outline-container-org939e99a" class="outline-4">
<h4 id="org939e99a"><span class="section-number-4">2.7.3</span> swaplevel, sortlevel</h4>
</div>
</div>
<div id="outline-container-orgf2eff1e" class="outline-3">
<h3 id="orgf2eff1e"><span class="section-number-3">2.8</span> Panel</h3>
<div class="outline-text-3" id="text-2-8">
<p>
Panel can be thought as a 3-dimensional analogue of DataFrame.
Although hierarchical indexing makes using truly N-dimensional arrays unnecessary in a lot of cases
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">pdata</span> = pd.Panel<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">{</span>stk: pdr.get_data_yahoo<span style="color: #2d9574;">(</span>stk, <span style="color: #2d9574;">'1/1/2009'</span>, <span style="color: #2d9574;">'6/1/2012'</span><span style="color: #2d9574;">)</span>
                  <span style="color: #3a81c3; font-weight: bold;">for</span> stk <span style="color: #3a81c3; font-weight: bold;">in</span> <span style="color: #2d9574;">[</span><span style="color: #2d9574;">'AAPL'</span>, <span style="color: #2d9574;">'GOOG'</span><span style="color: #2d9574;">]</span><span style="color: #6c3163;">}</span><span style="color: #3a81c3;">)</span>

</pre>
</div>
</div>
<div id="outline-container-org2b341ee" class="outline-4">
<h4 id="org2b341ee"><span class="section-number-4">2.8.1</span> Useful functions</h4>
<div class="outline-text-4" id="text-2-8-1">
<ul class="org-ul">
<li><p>
ix
</p>
<div class="org-src-container">
<pre class="src src-python">pdata.ix<span style="color: #3a81c3;">[</span>:, <span style="color: #2d9574;">'6/1/2012'</span>, :<span style="color: #3a81c3;">]</span>
</pre>
</div></li>
<li><p>
swapaxes
</p>
<div class="org-src-container">
<pre class="src src-python">pdata.swapaxes<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'items'</span>, <span style="color: #2d9574;">'minor'</span><span style="color: #3a81c3;">)[</span><span style="color: #2d9574;">'Adj Close'</span><span style="color: #3a81c3;">]</span>
</pre>
</div></li>
<li><p>
to_frame
</p>

<p>
index will be the <b>[major, minor]</b> axis, <b>items</b> will be the columns
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">stacked</span> = pdata.to_frame<span style="color: #3a81c3;">()</span>
</pre>
</div></li>

<li><p>
to_panel
</p>
<div class="org-src-container">
<pre class="src src-python">stacked.to_panel<span style="color: #3a81c3;">()</span>
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgafe84d1" class="outline-3">
<h3 id="orgafe84d1"><span class="section-number-3">2.9</span> TimeSeries</h3>
<div class="outline-text-3" id="text-2-9">
</div>
<div id="outline-container-orgb7eebf3" class="outline-4">
<h4 id="orgb7eebf3"><span class="section-number-4">2.9.1</span> numpy.datatime64</h4>
<div class="outline-text-4" id="text-2-9-1">
<p>
nanoseconds resolution.
pandas <b>stores</b> timestamps as numpy.datatime64
</p>
</div>
</div>
<div id="outline-container-org16d5ca2" class="outline-4">
<h4 id="org16d5ca2"><span class="section-number-4">2.9.2</span> pandas <b>Timestamp</b></h4>
<div class="outline-text-4" id="text-2-9-2">
</div>
<div id="outline-container-orgce938e3" class="outline-5">
<h5 id="orgce938e3">timezone-aware</h5>
</div>
<div id="outline-container-org890aac3" class="outline-5">
<h5 id="org890aac3">to_period</h5>
</div>
</div>
<div id="outline-container-orgffa2cba" class="outline-4">
<h4 id="orgffa2cba"><span class="section-number-4">2.9.3</span> Indexing</h4>
<div class="outline-text-4" id="text-2-9-3">
<div class="org-src-container">
<pre class="src src-python">ts<span style="color: #3a81c3;">[</span><span style="color: #6c3163;">(</span>time<span style="color: #2d9574;">(</span><span style="color: #4e3163;">10</span>,<span style="color: #4e3163;">0</span><span style="color: #2d9574;">)</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">]</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">same as</span>
ts.at_time<span style="color: #3a81c3;">(</span>time<span style="color: #6c3163;">(</span><span style="color: #4e3163;">10</span>,<span style="color: #4e3163;">0</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>

ts.between_time<span style="color: #3a81c3;">(</span>time<span style="color: #6c3163;">(</span><span style="color: #4e3163;">10</span>, <span style="color: #4e3163;">0</span><span style="color: #6c3163;">)</span>, time<span style="color: #6c3163;">(</span><span style="color: #4e3163;">10</span>, <span style="color: #4e3163;">30</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
ts.asof<span style="color: #3a81c3;">(</span>pd.date_range<span style="color: #6c3163;">(</span><span style="color: #2d9574;">'2016-05-01 10:00'</span>, periods=<span style="color: #4e3163;">4</span>, freq=<span style="color: #2d9574;">'B'</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
<div id="outline-container-orgf98afb1" class="outline-5">
<h5 id="orgf98afb1">asof</h5>
<div class="outline-text-5" id="text-orgf98afb1">
<p>
By passing an array of timestamps to the asof method, you will obtain
an array of the last valid(non-NA) values at or before each timestamps.
</p>
</div>
</div>
</div>
<div id="outline-container-org0272530" class="outline-4">
<h4 id="org0272530"><span class="section-number-4">2.9.4</span> Frequencies</h4>
<div class="outline-text-4" id="text-2-9-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> Base Time Series Frequencies</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Alias</th>
<th scope="col" class="org-left">Offset Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">D</td>
<td class="org-left">Day</td>
</tr>

<tr>
<td class="org-left">B</td>
<td class="org-left">BusinessDay</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-left">Hour</td>
</tr>

<tr>
<td class="org-left">T or min</td>
<td class="org-left">Minute</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-left">Second</td>
</tr>

<tr>
<td class="org-left">L or ms</td>
<td class="org-left">Milli</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-left">Micro</td>
</tr>

<tr>
<td class="org-left">M</td>
<td class="org-left">MonthEnd</td>
</tr>

<tr>
<td class="org-left">BM</td>
<td class="org-left">BusinessMonthEnd</td>
</tr>

<tr>
<td class="org-left">MS</td>
<td class="org-left">MonthBegin</td>
</tr>

<tr>
<td class="org-left">BMS</td>
<td class="org-left">BusinessMonthBegin</td>
</tr>

<tr>
<td class="org-left">W-Mon, W-TUE, &#x2026;</td>
<td class="org-left">Week</td>
</tr>

<tr>
<td class="org-left">WOM-1MON, &#x2026;</td>
<td class="org-left">WeekOfMonth</td>
</tr>

<tr>
<td class="org-left">Q-JAN, Q-FEB, &#x2026;</td>
<td class="org-left">QuarterEnd</td>
</tr>

<tr>
<td class="org-left">BQ-JAN, BQ-FEB, &#x2026;</td>
<td class="org-left">BusinessQuarterEnd</td>
</tr>

<tr>
<td class="org-left">QS-JAN, &#x2026;</td>
<td class="org-left">QuarterBegin</td>
</tr>

<tr>
<td class="org-left">BQS-JAN, &#x2026;</td>
<td class="org-left">BusinessQuarterBegin</td>
</tr>

<tr>
<td class="org-left">A-JAN, &#x2026;</td>
<td class="org-left">YearEnd</td>
</tr>

<tr>
<td class="org-left">BA-JAN, &#x2026;</td>
<td class="org-left">BusinessYearEnd</td>
</tr>

<tr>
<td class="org-left">AS-JAN, &#x2026;</td>
<td class="org-left">YearBegin</td>
</tr>

<tr>
<td class="org-left">BAS-JAN, &#x2026;</td>
<td class="org-left">BusinessYearBegin</td>
</tr>
</tbody>
</table>
</div>
<div id="outline-container-orgb9e6ff9" class="outline-5">
<h5 id="orgb9e6ff9">Users can define custom frequency classes</h5>
</div>
<div id="outline-container-org9caac2a" class="outline-5">
<h5 id="org9caac2a">offsets can also be used with <b>datetime</b> or <b>Timestamp</b> objects</h5>
</div>
<div id="outline-container-org5aa4969" class="outline-5">
<h5 id="org5aa4969">offset.rollforward/rollback</h5>
<div class="outline-text-5" id="text-org5aa4969">
<div class="org-src-container">
<pre class="src src-python">ts.groupby<span style="color: #3a81c3;">(</span>offset.rollforward<span style="color: #3a81c3;">)</span>.mean<span style="color: #3a81c3;">()</span>
</pre>
</div>
<p>
but <b>resample</b> is faster
</p>
</div>
</div>
</div>

<div id="outline-container-orgce16bb6" class="outline-4">
<h4 id="orgce16bb6"><span class="section-number-4">2.9.5</span> Timezone</h4>
<div class="outline-text-4" id="text-2-9-5">
<p>
internal library: <b>pytz</b>
</p>
</div>
<div id="outline-container-org611b5ed" class="outline-5">
<h5 id="org611b5ed">tz_localize</h5>
</div>
<div id="outline-container-orgc33d889" class="outline-5">
<h5 id="orgc33d889">tz_convert</h5>
</div>
</div>
<div id="outline-container-org66dda17" class="outline-4">
<h4 id="org66dda17"><span class="section-number-4">2.9.6</span> Period</h4>
<div class="outline-text-4" id="text-2-9-6">
</div>
<div id="outline-container-org7ed6ae0" class="outline-5">
<h5 id="org7ed6ae0">pandas.Period</h5>
</div>
<div id="outline-container-org469f5d5" class="outline-5">
<h5 id="org469f5d5">pandas.PeriodIndex</h5>
</div>
</div>
<div id="outline-container-orgfdbba25" class="outline-4">
<h4 id="orgfdbba25"><span class="section-number-4">2.9.7</span> Resample</h4>
<div class="outline-text-4" id="text-2-9-7">
<p>
Aggregating higher frequency data to lower frequency is called downsampling,
while converting lower frequency to higher frequency is called upsampling.
</p>
</div>
<div id="outline-container-orgd3a50df" class="outline-5">
<h5 id="orgd3a50df">args</h5>
<div class="outline-text-5" id="text-orgd3a50df">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 2:</span> Resample method arguments</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Argument</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">freq</td>
<td class="org-left">String or DateOffset indicating desired resampled frequency, e.g. ‘M', ’5min', or Second(15)</td>
</tr>

<tr>
<td class="org-left">how='mean'</td>
<td class="org-left">Function name or array function producing aggregated value, for example 'ohlc' , np.max. Default 'mean'</td>
</tr>

<tr>
<td class="org-left">axis=0</td>
<td class="org-left">Axis to resample on, default axis=0</td>
</tr>

<tr>
<td class="org-left">fill_method=None</td>
<td class="org-left">How to interpolate when upsampling, as in 'ffill' or 'bfill' . By default does no interpolation.</td>
</tr>

<tr>
<td class="org-left">closed='right'</td>
<td class="org-left">In downsampling, which end of each interval is closed (inclusive). Default 'right'</td>
</tr>

<tr>
<td class="org-left">label='right'</td>
<td class="org-left">In downsampling, how to label the aggregated result, with the 'right' or 'left bin edge</td>
</tr>

<tr>
<td class="org-left">loffset=None</td>
<td class="org-left">Time adjustment to the bin labels, such as '-1s' / Second(-1) to shift the aggregate labels one second earlier</td>
</tr>

<tr>
<td class="org-left">limit=None</td>
<td class="org-left">When forward or backward filling, the maximum number of periods to fill</td>
</tr>

<tr>
<td class="org-left">kind=None</td>
<td class="org-left">Aggregate to periods or timestamps</td>
</tr>

<tr>
<td class="org-left">convention=None</td>
<td class="org-left">When resampling periods, the convention ( 'start' or 'end' ) for converting the low frequency period to high frequency.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org029a1e0" class="outline-4">
<h4 id="org029a1e0"><span class="section-number-4">2.9.8</span> useful functions</h4>
<div class="outline-text-4" id="text-2-9-8">
</div>
<div id="outline-container-org646a210" class="outline-5">
<h5 id="org646a210">truncate</h5>
<div class="outline-text-5" id="text-org646a210">
<p>
slices a timeseries between two dates
</p>
</div>
</div>
<div id="outline-container-org1f7702a" class="outline-5">
<h5 id="org1f7702a">normalize</h5>
<div class="outline-text-5" id="text-org1f7702a">
<p>
convert times to midnight
</p>
</div>
</div>

<div id="outline-container-org40b0204" class="outline-5">
<h5 id="org40b0204">compute returns</h5>
<div class="outline-text-5" id="text-org40b0204">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">returns</span> = price.pct_change<span style="color: #3a81c3;">()</span>
<span style="color: #715ab1;">ret_index</span> = <span style="color: #3a81c3;">(</span><span style="color: #4e3163;">1</span> + returns<span style="color: #3a81c3;">)</span>.cumprod<span style="color: #3a81c3;">()</span>
<span style="color: #715ab1;">ret_index</span><span style="color: #3a81c3;">[</span><span style="color: #4e3163;">0</span><span style="color: #3a81c3;">]</span> = <span style="color: #4e3163;">1</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgc6f067b" class="outline-4">
<h4 id="orgc6f067b"><span class="section-number-4">2.9.9</span> moving window</h4>
<div class="outline-text-4" id="text-2-9-9">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">rolling_count</td>
<td class="org-left">Returns number of non-NA observations in each trailing window.</td>
</tr>

<tr>
<td class="org-left">rolling_sum</td>
<td class="org-left">Moving window sum.</td>
</tr>

<tr>
<td class="org-left">rolling_mean</td>
<td class="org-left">Moving window mean.</td>
</tr>

<tr>
<td class="org-left">rolling_median</td>
<td class="org-left">Moving window median.</td>
</tr>

<tr>
<td class="org-left">rolling_var, rolling_std</td>
<td class="org-left">Moving window variance and standard deviation, respectively. Uses n - 1 denominator.</td>
</tr>

<tr>
<td class="org-left">rolling_skew, rolling_kurt</td>
<td class="org-left">Moving window skewness (3rd moment) and kurtosis (4th moment), respectively.</td>
</tr>

<tr>
<td class="org-left">rolling_min, rolling_max</td>
<td class="org-left">Moving window minimum and maximum.</td>
</tr>

<tr>
<td class="org-left">rolling_quantile</td>
<td class="org-left">Moving window score at percentile/sample quantile.</td>
</tr>

<tr>
<td class="org-left">rolling_corr, rolling_cov</td>
<td class="org-left">Moving window correlation and covariance.</td>
</tr>

<tr>
<td class="org-left">rolling_apply</td>
<td class="org-left">Apply generic array function over a moving window.</td>
</tr>

<tr>
<td class="org-left">ewma</td>
<td class="org-left">Exponentially-weighted moving average.</td>
</tr>

<tr>
<td class="org-left">ewmvar, ewmstd</td>
<td class="org-left">Exponentially-weighted moving variance and standard deviation.</td>
</tr>

<tr>
<td class="org-left">ewmcorr, ewmcov</td>
<td class="org-left">Exponentially-weighted moving correlation and covariance.</td>
</tr>
</tbody>
</table>
</div>
<div id="outline-container-org32bbd58" class="outline-5">
<h5 id="org32bbd58">exponentially-weighted</h5>
<div class="outline-text-5" id="text-org32bbd58">
<p>
Exponentially-weighted statistic places more weight on more recent observations
It "adapts" <b>faster</b> to changes compared with the equal-weighted version.
</p>
</div>
</div>
<div id="outline-container-orgc36d14b" class="outline-5">
<h5 id="orgc36d14b">expanding window mean</h5>
<div class="outline-text-5" id="text-orgc36d14b">
<p>
It is just a special case where the window is the length of the time series.
</p>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org5518e91" class="outline-2">
<h2 id="org5518e91"><span class="section-number-2">3</span> wrangling</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org8e5aeeb" class="outline-3">
<h3 id="org8e5aeeb"><span class="section-number-3">3.1</span> Evaluate Data</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-orgb33a707" class="outline-4">
<h4 id="orgb33a707"><span class="section-number-4">3.1.1</span> Quality</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Data in low quality is called <b>dirty</b> data.
</p>
<ul class="org-ul">
<li>missing value</li>
<li>invalid value</li>
<li>inaccurate value</li>
<li>inconsistent value, e.g. different unit(cm/inch)</li>
</ul>
</div>

<div id="outline-container-org7058577" class="outline-5">
<h5 id="org7058577">Evaluate Method</h5>
<div class="outline-text-5" id="text-org7058577">
<p>
head, tail, info, value_counts, plot
</p>
</div>
</div>
</div>

<div id="outline-container-org99a6d86" class="outline-4">
<h4 id="org99a6d86"><span class="section-number-4">3.1.2</span> Tidiness</h4>
</div>
</div>
<div id="outline-container-org7cea74d" class="outline-3">
<h3 id="org7cea74d"><span class="section-number-3">3.2</span> Wrangling Process</h3>
<div class="outline-text-3" id="text-3-2">
<ol class="org-ol">
<li>Define tasks(text)</li>
<li>Coding</li>
<li><b>Testing</b></li>
</ol>
</div>
</div>
<div id="outline-container-org9863c95" class="outline-3">
<h3 id="org9863c95"><span class="section-number-3">3.3</span> Data Input/Output</h3>
<div class="outline-text-3" id="text-3-3">
</div>
<div id="outline-container-org00e45b7" class="outline-4">
<h4 id="org00e45b7"><span class="section-number-4">3.3.1</span> Reading option categories</h4>
<div class="outline-text-4" id="text-3-3-1">
</div>
<div id="outline-container-org3081281" class="outline-5">
<h5 id="org3081281">Indexing</h5>
<div class="outline-text-5" id="text-org3081281">
<p>
Can treat one or more columns as the returned DataFrame, and whether
to get column names from the file, the user, or not at all.
</p>
</div>
</div>
<div id="outline-container-orga6e3bee" class="outline-5">
<h5 id="orga6e3bee">Type inference and data conversion</h5>
<div class="outline-text-5" id="text-orga6e3bee">
<p>
This includes the user-defined value conversions and custom list of
missing value markers.
</p>
</div>
</div>
<div id="outline-container-org1b62ef0" class="outline-5">
<h5 id="org1b62ef0">Datetime parsing</h5>
<div class="outline-text-5" id="text-org1b62ef0">
<p>
Includes combining capability, including combining date and time information
spread over multiple columns into a single column in the result.
</p>
</div>
</div>
<div id="outline-container-org96dc917" class="outline-5">
<h5 id="org96dc917">Iterating</h5>
<div class="outline-text-5" id="text-org96dc917">
<p>
Support for iterating over chunks of very large files.
</p>
</div>
</div>
<div id="outline-container-orgf798cf5" class="outline-5">
<h5 id="orgf798cf5">Unclean data issues</h5>
<div class="outline-text-5" id="text-orgf798cf5">
<p>
Skipping rows or a footer, comments, or other minor things like numeric data
with thousands separated by commas.
</p>
</div>
</div>
</div>

<div id="outline-container-org2299328" class="outline-4">
<h4 id="org2299328"><span class="section-number-4">3.3.2</span> Hints</h4>
<div class="outline-text-4" id="text-3-3-2">
<ul class="org-ul">
<li><b>from_csv</b>: a convenience method simpler than read_csv</li>
<li>pickle related: <b>load</b>, <b>save</b></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org9d3c71c" class="outline-3">
<h3 id="org9d3c71c"><span class="section-number-3">3.4</span> Concatenation</h3>
<div class="outline-text-3" id="text-3-4">
<ul class="org-ul">
<li><b>pd.merge</b>, <b>merge</b> method</li>
<li><b>join</b> method: performs a left join on the join keys</li>
<li><b>pd.concat</b></li>
<li><b>combine_first</b>: patching missing data with arg object(df.update(overwrite=False))</li>
<li><b>align</b>: align two object on their axes with the specified join method for each axis Index</li>
</ul>
</div>
<div id="outline-container-org9d19d50" class="outline-4">
<h4 id="org9d19d50"><span class="section-number-4">3.4.1</span> concat args</h4>
<div class="outline-text-4" id="text-3-4-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Argument</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">objs</td>
<td class="org-left">List or <b>dict</b> of pandas objects to be concatenated. The only required argument</td>
</tr>

<tr>
<td class="org-left">axis</td>
<td class="org-left">Axis to concatenate along; defaults to 0</td>
</tr>

<tr>
<td class="org-left">join</td>
<td class="org-left">One of 'inner', 'outer' , defaulting to 'outer'</td>
</tr>

<tr>
<td class="org-left">join_axes</td>
<td class="org-left">Specific indexes to use for the other n-1 axes instead of performing union/intersection logic</td>
</tr>

<tr>
<td class="org-left">keys</td>
<td class="org-left">Values to associate with objects being concatenated, forming a hierarchical index along the concatenation axis</td>
</tr>

<tr>
<td class="org-left">levels</td>
<td class="org-left">Specific indexes to use as hierarchical index level or levels if keys passed</td>
</tr>

<tr>
<td class="org-left">names</td>
<td class="org-left">Names for created hierarchical levels if keys and / or levels passed</td>
</tr>

<tr>
<td class="org-left">verify_integrity</td>
<td class="org-left">Check new axis in concatenated object for duplicates and raise exception if so. By default( False ) allows duplicates</td>
</tr>

<tr>
<td class="org-left">ignore_index</td>
<td class="org-left">Do not preserve indexes along concatenation axis , instead producing a new range(total_length) index</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org730eed5" class="outline-3">
<h3 id="org730eed5"><span class="section-number-3">3.5</span> Reshaping and Pivoting</h3>
<div class="outline-text-3" id="text-3-5">
</div>
<div id="outline-container-org2ce55a8" class="outline-4">
<h4 id="org2ce55a8"><span class="section-number-4">3.5.1</span> stack</h4>
<div class="outline-text-4" id="text-3-5-1">
<p>
Pivots from the columns in the data to the rows.
Stacking filters out missing data by default.
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">data</span> = DataFrame<span style="color: #3a81c3;">(</span>np.arange<span style="color: #6c3163;">(</span><span style="color: #4e3163;">6</span><span style="color: #6c3163;">)</span>.reshape<span style="color: #6c3163;">(</span><span style="color: #2d9574;">(</span><span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">3</span><span style="color: #2d9574;">)</span><span style="color: #6c3163;">)</span>, columns=<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'a'</span>, <span style="color: #2d9574;">'b'</span>, <span style="color: #2d9574;">'c'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
data
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#    </span><span style="color: #2aa1ae; background-color: #ecf3ec;">a  b  c</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">0  0  1  2</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">1  3  4  5</span>
data.stack<span style="color: #3a81c3;">()</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">0  a    0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#    </span><span style="color: #2aa1ae; background-color: #ecf3ec;">b    1</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#    </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c    2</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">1  a    3</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#    </span><span style="color: #2aa1ae; background-color: #ecf3ec;">b    4</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#    </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c    5</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">dtype: int64</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org440dd80" class="outline-4">
<h4 id="org440dd80"><span class="section-number-4">3.5.2</span> unstack</h4>
<div class="outline-text-4" id="text-3-5-2">
<p>
Pivots from the rows into the columns
</p>
<div class="org-src-container">
<pre class="src src-python">data.stack<span style="color: #3a81c3;">()</span>.unstack<span style="color: #3a81c3;">()</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#    </span><span style="color: #2aa1ae; background-color: #ecf3ec;">a  b  c</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">0  0  1  2</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">1  3  4  5</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">can specific level number or name</span>
data.stack<span style="color: #3a81c3;">()</span>.unstack<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">0</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#    </span><span style="color: #2aa1ae; background-color: #ecf3ec;">0  1</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">a  0  3</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">b  1  4</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c  2  5</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7bd36e5" class="outline-4">
<h4 id="org7bd36e5"><span class="section-number-4">3.5.3</span> pivot</h4>
<div class="outline-text-4" id="text-3-5-3">
<p>
<b>pivot</b> is a shortcut for creating a hierarchical index using <b>set_index</b> and reshaping with <b>unstack</b>
</p>
<div class="org-src-container">
<pre class="src src-python">quotes.head<span style="color: #3a81c3;">()</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#                   </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Open        High         Low       Close    Volume  \</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Date</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-04  626.951088  629.511067  624.241073  626.751061   3927000</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-05  627.181073  627.841071  621.541045  623.991055   6031900</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-06  625.861078  625.861078  606.361042  608.261023   7987100</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-07  609.401025  610.001045  592.651008  594.101005  12876600</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-08  592.000997  603.251034  589.110988  602.021036   9483900</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;">#              </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Adj Close symbol</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Date</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-04  313.062468   GOOG</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-05  311.683844   GOOG</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-06  303.826685   GOOG</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-07  296.753749   GOOG</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-08  300.709808   GOOG</span>
quotes.pivot<span style="color: #3a81c3;">(</span>columns=<span style="color: #2d9574;">'symbol'</span>, values=<span style="color: #2d9574;">'Close'</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">symbol            AAPL        GOOG         IBM       MSFT</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Date</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-04  214.009998  626.751061  132.449997  30.950001</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-05  214.379993  623.991055  130.850006  30.959999</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-06  210.969995  608.261023  130.000000  30.770000</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-07  210.580000  594.101005  129.550003  30.450001</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2010-01-08  211.980005  602.021036  130.850006  30.660000</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org107d3ab" class="outline-3">
<h3 id="org107d3ab"><span class="section-number-3">3.6</span> Permutation(randomly reordering)</h3>
<div class="outline-text-3" id="text-3-6">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">df</span> = DataFrame<span style="color: #3a81c3;">(</span>np.arange<span style="color: #6c3163;">(</span><span style="color: #4e3163;">5</span> * <span style="color: #4e3163;">4</span><span style="color: #6c3163;">)</span>.reshape<span style="color: #6c3163;">(</span><span style="color: #4e3163;">5</span>, <span style="color: #4e3163;">4</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
df
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#     </span><span style="color: #2aa1ae; background-color: #ecf3ec;">0   1   2   3</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">0   0   1   2   3</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">1   4   5   6   7</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2   8   9  10  11</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">3  12  13  14  15</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">4  16  17  18  19</span>
<span style="color: #715ab1;">sampler</span> = np.random.permutation<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">5</span><span style="color: #3a81c3;">)</span>
sampler
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; array([1,0,2,3,4])</span>
df.take<span style="color: #3a81c3;">(</span>sampler<span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt;</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#     </span><span style="color: #2aa1ae; background-color: #ecf3ec;">0   1   2   3</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">1   4   5   6   7</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">3  12  13  14  15</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">4  16  17  18  19</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">0   0   1   2   3</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2   8   9  10  11</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7fbf75c" class="outline-3">
<h3 id="org7fbf75c"><span class="section-number-3">3.7</span> String Manipulation</h3>
<div class="outline-text-3" id="text-3-7">
<p>
df.str.XXX
</p>
</div>
<div id="outline-container-org7760be8" class="outline-4">
<h4 id="org7760be8"><span class="section-number-4">3.7.1</span> Vectorized string methods</h4>
<div class="outline-text-4" id="text-3-7-1">
<p>
cat, contains, count, endswith/startswith, findall, get,
join, len, lower, upper, match, pad, center, repeat, replace,
slice, split, strip/rstrip/lstrip
</p>
</div>
</div>
</div>
<div id="outline-container-orgd3090bd" class="outline-3">
<h3 id="orgd3090bd"><span class="section-number-3">3.8</span> Check Duplicates</h3>
<div class="outline-text-3" id="text-3-8">
<p>
pandas.Index.is_unique, pandas.Series.is_unique
</p>
</div>
</div>
<div id="outline-container-orga3ca8b9" class="outline-3">
<h3 id="orga3ca8b9"><span class="section-number-3">3.9</span> Others</h3>
<div class="outline-text-3" id="text-3-9">
</div>
<div id="outline-container-org063091e" class="outline-4">
<h4 id="org063091e"><span class="section-number-4">3.9.1</span> <span class="todo TODO">TODO</span> Indicator/Dummy(for statistical model)</h4>
<div class="outline-text-4" id="text-3-9-1">
<p>
<b>pd.get_dummies</b>
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgaea6428" class="outline-2">
<h2 id="orgaea6428"><span class="section-number-2">4</span> plotting</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgb40416a" class="outline-3">
<h3 id="orgb40416a"><span class="section-number-3">4.1</span> Basic</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-org43bd346" class="outline-4">
<h4 id="org43bd346"><span class="section-number-4">4.1.1</span> Figures and Subplots</h4>
<div class="outline-text-4" id="text-4-1-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">fig</span> = plt.figure<span style="color: #3a81c3;">()</span>
<span style="color: #715ab1;">ax1</span> = fig.add_subplot<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">get a reference of active figure</span>
plt.gcf<span style="color: #3a81c3;">()</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">all in one subplots</span>
<span style="color: #715ab1;">fig</span>, <span style="color: #715ab1;">axes</span> = plt.subplots<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">2</span>,<span style="color: #4e3163;">3</span>, figsize=<span style="color: #6c3163;">(</span><span style="color: #4e3163;">14</span>, <span style="color: #4e3163;">8</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga299295" class="outline-4">
<h4 id="orga299295"><span class="section-number-4">4.1.2</span> subplots options</h4>
<div class="outline-text-4" id="text-4-1-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Argument</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">figsize</td>
<td class="org-left">Size of figure</td>
</tr>

<tr>
<td class="org-left">nrows</td>
<td class="org-left">Number of rows of subplots</td>
</tr>

<tr>
<td class="org-left">ncols</td>
<td class="org-left">Number of columns of subplots</td>
</tr>

<tr>
<td class="org-left"><b>sharex</b></td>
<td class="org-left">All subplots use the same X-axis ticks</td>
</tr>

<tr>
<td class="org-left"><b>sharey</b></td>
<td class="org-left">see above</td>
</tr>

<tr>
<td class="org-left">subpot_kw</td>
<td class="org-left">creating dict of keywords</td>
</tr>

<tr>
<td class="org-left">**fig_kw</td>
<td class="org-left">Additional keywords</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgc8a61e9" class="outline-4">
<h4 id="orgc8a61e9"><span class="section-number-4">4.1.3</span> Adjusting Size</h4>
<div class="outline-text-4" id="text-4-1-3">
<p>
subplots_adjust
</p>
<ul class="org-ul">
<li>args: left, right, bottom, top, wspace, hspace</li>
</ul>
</div>
</div>

<div id="outline-container-orgcf3d016" class="outline-4">
<h4 id="orgcf3d016"><span class="section-number-4">4.1.4</span> global configuration</h4>
<div class="outline-text-4" id="text-4-1-4">
<p>
plt.rc
</p>
<div class="org-src-container">
<pre class="src src-python">plt.rc<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'figure'</span>, figsize=<span style="color: #6c3163;">(</span><span style="color: #4e3163;">10</span>, <span style="color: #4e3163;">10</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
<span style="color: #715ab1;">font_options</span> = <span style="color: #3a81c3;">{</span><span style="color: #2d9574;">'family'</span> : <span style="color: #2d9574;">'monospace'</span>,
                <span style="color: #2d9574;">'weight'</span> : <span style="color: #2d9574;">'bold'</span>,
                <span style="color: #2d9574;">'size'</span>
                : <span style="color: #2d9574;">'small'</span><span style="color: #3a81c3;">}</span>
plt.rc<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'font'</span>, **font_options<span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org70629de" class="outline-3">
<h3 id="org70629de"><span class="section-number-3">4.2</span> plot function</h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-org53c6aa4" class="outline-4">
<h4 id="org53c6aa4"><span class="section-number-4">4.2.1</span> plotting range</h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
plt.xlim, plt.ylim, ax.set_xlim, ax.set_ylim
</p>
</div>
</div>

<div id="outline-container-orga5cd669" class="outline-4">
<h4 id="orga5cd669"><span class="section-number-4">4.2.2</span> title, label, tick, ticklabel</h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
set_title, set_xlabel, set_xticks, set_xticklabels
</p>
</div>
</div>

<div id="outline-container-orgf7a3af4" class="outline-4">
<h4 id="orgf7a3af4"><span class="section-number-4">4.2.3</span> legend</h4>
<div class="outline-text-4" id="text-4-2-3">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">fig</span> = plt.figure<span style="color: #3a81c3;">()</span>
<span style="color: #715ab1;">ax</span> = fig.add_subplot<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">1</span>, <span style="color: #4e3163;">1</span>, <span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span>
ax.plot<span style="color: #3a81c3;">(</span>randn<span style="color: #6c3163;">(</span><span style="color: #4e3163;">1000</span><span style="color: #6c3163;">)</span>.cumsum<span style="color: #6c3163;">()</span>, <span style="color: #2d9574;">'k'</span>, label=<span style="color: #2d9574;">'one'</span><span style="color: #3a81c3;">)</span>
ax.legend<span style="color: #3a81c3;">(</span>loc=<span style="color: #2d9574;">'best'</span><span style="color: #3a81c3;">)</span> <span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">show the label</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6729e23" class="outline-4">
<h4 id="org6729e23"><span class="section-number-4">4.2.4</span> Annotations</h4>
<div class="outline-text-4" id="text-4-2-4">
</div>
<div id="outline-container-orgd3c6188" class="outline-5">
<h5 id="orgd3c6188"><b>text, arrows, annotate</b> functions</h5>
<div class="outline-text-5" id="text-orgd3c6188">
<div class="org-src-container">
<pre class="src src-python">ax.annotate<span style="color: #3a81c3;">(</span>label, xy=<span style="color: #6c3163;">(</span>date, spx.asof<span style="color: #2d9574;">(</span>date<span style="color: #2d9574;">)</span> + <span style="color: #4e3163;">50</span><span style="color: #6c3163;">)</span>,
            xytext=<span style="color: #6c3163;">(</span>date, spx.asof<span style="color: #2d9574;">(</span>date<span style="color: #2d9574;">)</span> + <span style="color: #4e3163;">200</span><span style="color: #6c3163;">)</span>,
            arrowprops=<span style="color: #3a81c3;">dict</span><span style="color: #6c3163;">(</span>facecolor=<span style="color: #2d9574;">'black'</span><span style="color: #6c3163;">)</span>,
            horizontalalignment=<span style="color: #2d9574;">'left'</span>, verticalalignment=<span style="color: #2d9574;">'top'</span><span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd261816" class="outline-5">
<h5 id="orgd261816">shapes</h5>
<div class="outline-text-5" id="text-orgd261816">
<p>
matplotlib.patches
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">fig</span> = plt.figure<span style="color: #3a81c3;">()</span>
<span style="color: #715ab1;">ax</span> = fig.add_subplot<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">1</span>, <span style="color: #4e3163;">1</span>, <span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span>
<span style="color: #715ab1;">rect</span> = plt.Rectangle<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">(</span><span style="color: #4e3163;">0</span>.<span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">0</span>.<span style="color: #4e3163;">75</span><span style="color: #6c3163;">)</span>, <span style="color: #4e3163;">0</span>.<span style="color: #4e3163;">4</span>, <span style="color: #4e3163;">0</span>.<span style="color: #4e3163;">15</span>, color=<span style="color: #2d9574;">'k'</span>, alpha=<span style="color: #4e3163;">0</span>.<span style="color: #4e3163;">3</span><span style="color: #3a81c3;">)</span>
<span style="color: #715ab1;">circ</span> = plt.Circle<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">(</span><span style="color: #4e3163;">0</span>.<span style="color: #4e3163;">7</span>, <span style="color: #4e3163;">0</span>.<span style="color: #4e3163;">2</span><span style="color: #6c3163;">)</span>, <span style="color: #4e3163;">0</span>.<span style="color: #4e3163;">15</span>, color=<span style="color: #2d9574;">'b'</span>, alpha=<span style="color: #4e3163;">0</span>.<span style="color: #4e3163;">3</span><span style="color: #3a81c3;">)</span>
ax.add_patch<span style="color: #3a81c3;">(</span>rect<span style="color: #3a81c3;">)</span>
ax.add_patch<span style="color: #3a81c3;">(</span>circ<span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org9887ad0" class="outline-3">
<h3 id="org9887ad0"><span class="section-number-3">4.3</span> pandas Plotting</h3>
<div class="outline-text-3" id="text-4-3">
</div>
<div id="outline-container-org106a223" class="outline-4">
<h4 id="org106a223"><span class="section-number-4">4.3.1</span> Line Plots</h4>
<div class="outline-text-4" id="text-4-3-1">
</div>
<div id="outline-container-org1073f9c" class="outline-5">
<h5 id="org1073f9c">Series</h5>
<div class="outline-text-5" id="text-org1073f9c">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Argument</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">label</td>
<td class="org-left">Label for plot legend</td>
</tr>

<tr>
<td class="org-left">ax</td>
<td class="org-left">matplotlib subplot object to plot on. If nothing passed, uses active matplotlib subplot</td>
</tr>

<tr>
<td class="org-left">style</td>
<td class="org-left">Style string, like 'ko&#x2013;' , to be passed to matplotlib</td>
</tr>

<tr>
<td class="org-left">alpha</td>
<td class="org-left">The plot fill opacity (from 0 to 1)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgd747277" class="outline-5">
<h5 id="orgd747277">DataFrame</h5>
<div class="outline-text-5" id="text-orgd747277">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Argument</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">kind</td>
<td class="org-left">Can be 'line', 'bar', 'barh', 'kde'</td>
</tr>

<tr>
<td class="org-left">logy</td>
<td class="org-left">Use logarithmic scaling on the Y axis</td>
</tr>

<tr>
<td class="org-left">use_index</td>
<td class="org-left">Use the object index for tick labels</td>
</tr>

<tr>
<td class="org-left">rot</td>
<td class="org-left">Rotation of tick labels (0 through 360)</td>
</tr>

<tr>
<td class="org-left">xticks</td>
<td class="org-left">Values to use for X axis ticks</td>
</tr>

<tr>
<td class="org-left">yticks</td>
<td class="org-left">Values to use for Y axis ticks</td>
</tr>

<tr>
<td class="org-left">xlim</td>
<td class="org-left">X axis limits (e.g. [0, 10] )</td>
</tr>

<tr>
<td class="org-left">ylim</td>
<td class="org-left">Y axis limits</td>
</tr>

<tr>
<td class="org-left">grid</td>
<td class="org-left">Display axis grid (on by default)</td>
</tr>

<tr>
<td class="org-left">subplots</td>
<td class="org-left">Plot each DataFrame column in a separate subplot</td>
</tr>

<tr>
<td class="org-left">sharex, sharey</td>
<td class="org-left">If subplots=True , share the same Y/x axis</td>
</tr>

<tr>
<td class="org-left">figsize</td>
<td class="org-left">Size of figure to create as tuple</td>
</tr>

<tr>
<td class="org-left">title</td>
<td class="org-left">Plot title as string</td>
</tr>

<tr>
<td class="org-left">legend</td>
<td class="org-left">Add a subplot legend ( True by default)</td>
</tr>

<tr>
<td class="org-left">sort_columns</td>
<td class="org-left">Plot columns in alphabetical order</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-orgf162858" class="outline-4">
<h4 id="orgf162858"><span class="section-number-4">4.3.2</span> Bar Plots</h4>
<div class="outline-text-4" id="text-4-3-2">
<ul class="org-ul">
<li>kind='bar': for vertical bars, 'barh' for horizontal bars</li>
<li>stacked=True: stacked bar plots</li>
<li>useful recipe: s.value_counts().plot(kind='bar')</li>
</ul>
</div>
</div>

<div id="outline-container-org192ae27" class="outline-4">
<h4 id="org192ae27"><span class="section-number-4">4.3.3</span> Histogram &amp; Density Plots</h4>
<div class="outline-text-4" id="text-4-3-3">
<ul class="org-ul">
<li>A kind of bar plot that gives a discretized display of value frequency</li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">comp1</span> = np.random.normal<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">0</span>, <span style="color: #4e3163;">1</span>, size=<span style="color: #4e3163;">200</span><span style="color: #3a81c3;">)</span> <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">N(0, 1)</span>
<span style="color: #715ab1;">comp2</span> = np.random.normal<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">10</span>, <span style="color: #4e3163;">2</span>, size=<span style="color: #4e3163;">200</span><span style="color: #3a81c3;">)</span> <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">N(10, 4)</span>
<span style="color: #715ab1;">values</span> = Series<span style="color: #3a81c3;">(</span>np.concatenate<span style="color: #6c3163;">(</span><span style="color: #2d9574;">[</span>comp1, comp2<span style="color: #2d9574;">]</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
<span style="color: #715ab1;">fig</span> = plt.figure<span style="color: #3a81c3;">(</span>figsize=<span style="color: #6c3163;">(</span><span style="color: #4e3163;">10</span>, <span style="color: #4e3163;">5</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
values.hist<span style="color: #3a81c3;">(</span>bins=<span style="color: #4e3163;">100</span>, alpha=<span style="color: #4e3163;">0</span>.<span style="color: #4e3163;">3</span>, color=<span style="color: #2d9574;">'k'</span>, normed=<span style="color: #4e3163;">True</span><span style="color: #3a81c3;">)</span>
values.plot<span style="color: #3a81c3;">(</span>kind=<span style="color: #2d9574;">'kde'</span>, style=<span style="color: #2d9574;">'k--'</span><span style="color: #3a81c3;">)</span>
</pre>
</div>

<div class="figure">
<p><img src="../resources/data/hist_kde_plot.png" alt="hist_kde_plot.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org156f43f" class="outline-4">
<h4 id="org156f43f"><span class="section-number-4">4.3.4</span> Scatter Plots</h4>
<div class="outline-text-4" id="text-4-3-4">
<p>
pairs plot or scatter plot matrix: <b>scatter_matrix</b>
</p>
</div>
</div>
</div>

<div id="outline-container-org71c62c5" class="outline-3">
<h3 id="org71c62c5"><span class="section-number-3">4.4</span> Saving Plots to File</h3>
<div class="outline-text-3" id="text-4-4">
<p>
Figure.savefig args
</p>
<ul class="org-ul">
<li>fname, dpi, facecolor, edgecolor, format</li>
<li>bbox_inches: The portion of the figure to save</li>
</ul>
</div>
</div>

<div id="outline-container-org85040a4" class="outline-3">
<h3 id="org85040a4"><span class="section-number-3">4.5</span> interactive mode</h3>
</div>
<div id="outline-container-orgbd98f65" class="outline-3">
<h3 id="orgbd98f65"><span class="section-number-3">4.6</span> add-ons</h3>
<div class="outline-text-3" id="text-4-6">
<ul class="org-ul">
<li>mplot3d</li>
<li><b>basemap</b> /cartopy: projection and mapping(plotting 2D data on maps)</li>
<li><b>seaborn</b> /holoviews/ggplot: higher-level plotting interfaces</li>
<li>axes_grid:  axes and axis helpers</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgadad26f" class="outline-2">
<h2 id="orgadad26f"><span class="section-number-2">5</span> aggregation</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org82387cd" class="outline-3">
<h3 id="org82387cd"><span class="section-number-3">5.1</span> group by</h3>
<div class="outline-text-3" id="text-5-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">series groupby</span>
df<span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'data1'</span><span style="color: #3a81c3;">]</span>.groupby<span style="color: #3a81c3;">(</span>df<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'key1'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
df.groupby<span style="color: #3a81c3;">(</span>df<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'key1'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)[</span><span style="color: #2d9574;">'data1'</span><span style="color: #3a81c3;">]</span> <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">syntactic sugar</span>
<span style="color: #3a81c3;">dict</span><span style="color: #3a81c3;">(</span><span style="color: #3a81c3;">list</span><span style="color: #6c3163;">(</span>df.groupby<span style="color: #2d9574;">(</span><span style="color: #2d9574;">'key1'</span><span style="color: #2d9574;">)</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">df groupby</span>
df.groupby<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #2d9574;">'key1'</span>, <span style="color: #2d9574;">'key2'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span> <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">options: as_index, axis</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">get group size</span>
df.groupby<span style="color: #3a81c3;">()</span>.size<span style="color: #3a81c3;">()</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">iterations</span>
<span style="color: #3a81c3; font-weight: bold;">for</span> name, group <span style="color: #3a81c3; font-weight: bold;">in</span> df.groupby<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'key1'</span><span style="color: #3a81c3;">)</span>:
    <span style="color: #3a81c3; font-weight: bold;">print</span> name, group
</pre>
</div>
</div>
<div id="outline-container-orgaa90b1b" class="outline-4">
<h4 id="orgaa90b1b"><span class="section-number-4">5.1.1</span> via dict</h4>
<div class="outline-text-4" id="text-5-1-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">using mapping dict</span>
<span style="color: #715ab1;">mapping</span> = <span style="color: #3a81c3;">{</span><span style="color: #2d9574;">'a'</span>: <span style="color: #2d9574;">'group1'</span>, <span style="color: #2d9574;">'b'</span>: <span style="color: #2d9574;">'group1'</span>, <span style="color: #2d9574;">'c'</span>: <span style="color: #2d9574;">'group2'</span><span style="color: #3a81c3;">}</span>
df.groupby<span style="color: #3a81c3;">(</span>mapping, axis=<span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb3fc612" class="outline-4">
<h4 id="orgb3fc612"><span class="section-number-4">5.1.2</span> via function</h4>
<div class="outline-text-4" id="text-5-1-2">
<p>
Any function passed as a group key will be called once per
index value, with the return values being used as the group names
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">using function</span>
df.groupby<span style="color: #3a81c3;">(</span><span style="color: #3a81c3;">len</span><span style="color: #3a81c3;">)</span>.<span style="color: #3a81c3;">sum</span><span style="color: #3a81c3;">()</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1e79cd0" class="outline-4">
<h4 id="org1e79cd0"><span class="section-number-4">5.1.3</span> via mixing</h4>
<div class="outline-text-4" id="text-5-1-3">
<p>
Mixing functions with arrays, dicts or Series is not a problem as
everything gets converted to arrays internally
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">key_list</span> = <span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'one'</span>, <span style="color: #2d9574;">'one'</span>, <span style="color: #2d9574;">'two'</span><span style="color: #3a81c3;">]</span>
df.groupby<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #3a81c3;">len</span>, key_list<span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>.<span style="color: #3a81c3;">min</span><span style="color: #3a81c3;">()</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org65372eb" class="outline-3">
<h3 id="org65372eb"><span class="section-number-3">5.2</span> groupby aggregation</h3>
<div class="outline-text-3" id="text-5-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 3:</span> Optimized grouby methods</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">count</td>
<td class="org-left">Number of non-NA values in the groupNumber of non</td>
</tr>

<tr>
<td class="org-left">sum</td>
<td class="org-left">Sum of non-NA values</td>
</tr>

<tr>
<td class="org-left">mean</td>
<td class="org-left">Mean of non-NA values</td>
</tr>

<tr>
<td class="org-left">median</td>
<td class="org-left">Arithmetic median of non-NA values</td>
</tr>

<tr>
<td class="org-left">std, var</td>
<td class="org-left">Unbiased (n - 1 denominator) standard deviation and variance</td>
</tr>

<tr>
<td class="org-left">min, max</td>
<td class="org-left">Minimum and maximum of non-NA values</td>
</tr>

<tr>
<td class="org-left">prod</td>
<td class="org-left">Product of non-NA values</td>
</tr>

<tr>
<td class="org-left">first, last</td>
<td class="org-left">First and last non-NA values</td>
</tr>
</tbody>
</table>
</div>
<div id="outline-container-org02d010c" class="outline-4">
<h4 id="org02d010c"><span class="section-number-4">5.2.1</span> <b>aggregate</b> / <b>agg</b> method</h4>
<div class="outline-text-4" id="text-5-2-1">
</div>
<div id="outline-container-orgc48dba3" class="outline-5">
<h5 id="orgc48dba3">Series</h5>
<div class="outline-text-5" id="text-orgc48dba3">
<div class="org-src-container">
<pre class="src src-python">s.agg<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #2d9574;">'mean'</span>, <span style="color: #2d9574;">'std'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
s.agg<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #2d9574;">(</span><span style="color: #2d9574;">'foo'</span>, <span style="color: #2d9574;">'mean'</span><span style="color: #2d9574;">)</span>, <span style="color: #2d9574;">(</span><span style="color: #2d9574;">'bar'</span>, <span style="color: #2d9574;">'np.std'</span><span style="color: #2d9574;">)</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span> <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">foo bar will be the column name of result df</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf44edaa" class="outline-5">
<h5 id="orgf44edaa">DataFrame</h5>
<div class="outline-text-5" id="text-orgf44edaa">
<div class="org-src-container">
<pre class="src src-python">df.agg<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">{</span><span style="color: #2d9574;">'col1'</span>: <span style="color: #2d9574;">'mean'</span>, <span style="color: #2d9574;">'col2'</span>: <span style="color: #2d9574;">'std'</span>, <span style="color: #2d9574;">'col3'</span>: np.<span style="color: #3a81c3;">max</span><span style="color: #6c3163;">}</span><span style="color: #3a81c3;">)</span>
df.agg<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">{</span><span style="color: #2d9574;">'col1'</span>: <span style="color: #2d9574;">[</span><span style="color: #2d9574;">'mean'</span>, <span style="color: #2d9574;">'std'</span><span style="color: #2d9574;">]</span><span style="color: #6c3163;">}</span><span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd23f675" class="outline-4">
<h4 id="orgd23f675"><span class="section-number-4">5.2.2</span> apply</h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
apply function has args:
</p>
<div class="org-src-container">
<pre class="src src-python">df.groupby<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #2d9574;">'key1'</span>, <span style="color: #2d9574;">'key2'</span><span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>.<span style="color: #3a81c3;">apply</span><span style="color: #3a81c3;">(</span>top, n=<span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
<div id="outline-container-org3e1d458" class="outline-5">
<h5 id="org3e1d458">GroupBy method</h5>
<div class="outline-text-5" id="text-org3e1d458">
<div class="org-src-container">
<pre class="src src-python">grouped.describe<span style="color: #3a81c3;">()</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">is just shortcut of</span>
<span style="color: #715ab1;">f</span> = <span style="color: #3a81c3; font-weight: bold;">lambda</span> x: x.describe<span style="color: #3a81c3;">()</span>
grouped.<span style="color: #3a81c3;">apply</span><span style="color: #3a81c3;">(</span>f<span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd11fa9d" class="outline-4">
<h4 id="orgd11fa9d"><span class="section-number-4">5.2.3</span> transform</h4>
<div class="outline-text-4" id="text-5-2-3">
<p>
<b>transform</b> is a more specialized function having rigid requirements.
<b>transform</b> applies a funtion to <b>each group</b>, then places the results
in the appropriate locations. If each group produces a scalar value, it
will be <b>propagated(broadcasted)</b>.
</p>
</div>
<div id="outline-container-org460c320" class="outline-5">
<h5 id="org460c320">Standardizing data (zscore) within group</h5>
<div class="outline-text-5" id="text-org460c320">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">key</span> = <span style="color: #3a81c3; font-weight: bold;">lambda</span> x: x.year
<span style="color: #715ab1;">zscore</span> = <span style="color: #3a81c3; font-weight: bold;">lambda</span> x: <span style="color: #3a81c3;">(</span>x - x.mean<span style="color: #6c3163;">()</span><span style="color: #3a81c3;">)</span> / x.std<span style="color: #3a81c3;">()</span>
<span style="color: #715ab1;">transformed</span> = ts.groupby<span style="color: #3a81c3;">(</span>key<span style="color: #3a81c3;">)</span>.transform<span style="color: #3a81c3;">(</span>zscore<span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org04f5925" class="outline-5">
<h5 id="org04f5925">Filling NAs within groups with a value derived from each group</h5>
<div class="outline-text-5" id="text-org04f5925">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">f</span> = <span style="color: #3a81c3; font-weight: bold;">lambda</span> x: x.fillna<span style="color: #3a81c3;">(</span>x.mean<span style="color: #6c3163;">()</span><span style="color: #3a81c3;">)</span>
<span style="color: #715ab1;">transformed</span> = grouped.transform<span style="color: #3a81c3;">(</span>f<span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org7471e0b" class="outline-3">
<h3 id="org7471e0b"><span class="section-number-3">5.3</span> cut &amp; qcut</h3>
</div>
<div id="outline-container-org26da8bc" class="outline-3">
<h3 id="org26da8bc"><span class="section-number-3">5.4</span> fillna with group value</h3>
<div class="outline-text-3" id="text-5-4">
<div class="org-src-container">
<pre class="src src-python">grouped.<span style="color: #3a81c3;">apply</span><span style="color: #3a81c3;">(</span><span style="color: #3a81c3; font-weight: bold;">lambda</span> g: g.fillna<span style="color: #6c3163;">(</span>g.mean<span style="color: #2d9574;">()</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>

<span style="color: #715ab1;">fill_values</span> = <span style="color: #3a81c3;">{</span><span style="color: #2d9574;">'a'</span>: <span style="color: #4e3163;">5</span>, <span style="color: #2d9574;">'b'</span>: <span style="color: #4e3163;">4</span><span style="color: #3a81c3;">}</span>
grouped.fillna<span style="color: #3a81c3;">(</span><span style="color: #3a81c3; font-weight: bold;">lambda</span> g: g.fillna<span style="color: #6c3163;">(</span>fill_values<span style="color: #2d9574;">[</span>g.name<span style="color: #2d9574;">]</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga0219d1" class="outline-3">
<h3 id="orga0219d1"><span class="section-number-3">5.5</span> pivot_table</h3>
<div class="outline-text-3" id="text-5-5">
<p>
<b>pivot_table</b> aggregates a table of data by one or more keys,
arranging the data in a rectangle with some of the group keys along the rows and some
along the columns. default aggfunc: mean
</p>
</div>
<div id="outline-container-orge186291" class="outline-4">
<h4 id="orge186291"><span class="section-number-4">5.5.1</span> crosstab</h4>
<div class="outline-text-4" id="text-5-5-1">
<p>
A cross-tabulation (or crosstab for short) is a special case of a pivot table
that computes group frequencies.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org019199c" class="outline-2">
<h2 id="org019199c"><span class="section-number-2">6</span> other tools</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orge1a39ad" class="outline-3">
<h3 id="orge1a39ad"><span class="section-number-3">6.1</span> ipyparallel</h3>
<div class="outline-text-3" id="text-6-1">
<div class="org-src-container">
<pre class="src src-sh">ipcluster start --n=<span style="color: #4e3163;">4</span>
</pre>
</div>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #3a81c3; font-weight: bold;">from</span> ipyparallel <span style="color: #3a81c3; font-weight: bold;">import</span> Client
<span style="color: #715ab1;">rc</span> = Client<span style="color: #3a81c3;">()</span>
<span style="color: #715ab1;">dview</span> = rc<span style="color: #3a81c3;">[</span>:<span style="color: #3a81c3;">]</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; &lt;DirectView [0, 1, 2, 3&gt;]</span>
dview.apply_sync<span style="color: #3a81c3;">(</span>os.getpid<span style="color: #3a81c3;">)</span>

dview.scatter<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'a'</span>, <span style="color: #3a81c3;">range</span><span style="color: #6c3163;">(</span><span style="color: #4e3163;">10</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span> <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">distribute data (map)</span>
dview.execute<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'print(a)'</span><span style="color: #3a81c3;">)</span>.display_outputs<span style="color: #3a81c3;">()</span>
dview.execute<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'b=sum(a)'</span><span style="color: #3a81c3;">)</span>
dview.gather<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'b'</span><span style="color: #3a81c3;">)</span>.r <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">reduce</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfdb0903" class="outline-3">
<h3 id="orgfdb0903"><span class="section-number-3">6.2</span> Scipy</h3>
</div>
<div id="outline-container-org91aeb35" class="outline-3">
<h3 id="org91aeb35"><span class="section-number-3">6.3</span> statsmodels</h3>
</div>
<div id="outline-container-org46e910d" class="outline-3">
<h3 id="org46e910d"><span class="section-number-3">6.4</span> Sympy</h3>
<div class="outline-text-3" id="text-6-4">
<p>
Main computer algebra module in Python
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #3a81c3; font-weight: bold;">import</span> sympy <span style="color: #3a81c3; font-weight: bold;">as</span> S
<span style="color: #3a81c3; font-weight: bold;">from</span> sympy <span style="color: #3a81c3; font-weight: bold;">import</span> init_printing
init_printing<span style="color: #3a81c3;">()</span> <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">for latex printing</span>

<span style="color: #715ab1;">x</span> = S.symbols<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'x'</span><span style="color: #3a81c3;">)</span>

<span style="color: #715ab1;">p</span>=<span style="color: #3a81c3;">sum</span><span style="color: #3a81c3;">(</span>x**i <span style="color: #3a81c3; font-weight: bold;">for</span> i <span style="color: #3a81c3; font-weight: bold;">in</span> <span style="color: #3a81c3;">range</span><span style="color: #6c3163;">(</span><span style="color: #4e3163;">3</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span> <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">2nd order polynomial</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; x**2 + x + 1</span>

S.solve<span style="color: #3a81c3;">(</span>p<span style="color: #3a81c3;">)</span> <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">solves p == 0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; [-1/2 - sqrt(3)*I/2, -1/2 + sqrt(3)*I/2]</span>

S.roots<span style="color: #3a81c3;">(</span>p<span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; {-1/2 - sqrt(3)*I/2: 1, -1/2 + sqrt(3)*I/2: 1}</span>
</pre>
</div>
</div>
<div id="outline-container-orgab591de" class="outline-4">
<h4 id="orgab591de"><span class="section-number-4">6.4.1</span> lambdify</h4>
<div class="outline-text-4" id="text-6-4-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">y</span> = S.tan<span style="color: #3a81c3;">(</span>x<span style="color: #3a81c3;">)</span> * x + x**<span style="color: #4e3163;">2</span>
<span style="color: #715ab1;">yf</span>= S.lambdify<span style="color: #3a81c3;">(</span>x,y,&#8217;numpy&#8217;<span style="color: #3a81c3;">)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; &lt;function numpy.&lt;lambda&gt;&gt;</span>
yf<span style="color: #3a81c3;">(</span>np.arange<span style="color: #6c3163;">(</span><span style="color: #4e3163;">3</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org64e37d3" class="outline-4">
<h4 id="org64e37d3"><span class="section-number-4">6.4.2</span> Alternative SAGE</h4>
<div class="outline-text-4" id="text-6-4-2">
<ul class="org-ul">
<li>open source mathematics software package</li>
<li>non pure-python module.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgc8a4719" class="outline-3">
<h3 id="orgc8a4719"><span class="section-number-3">6.5</span> seaborn</h3>
<div class="outline-text-3" id="text-6-5">
<p>
Beautifully formatted plots
</p>
</div>
</div>
<div id="outline-container-orgb6ba57e" class="outline-3">
<h3 id="orgb6ba57e"><span class="section-number-3">6.6</span> scikits</h3>
<div class="outline-text-3" id="text-6-6">
</div>
<div id="outline-container-orgcbf9ae7" class="outline-4">
<h4 id="orgcbf9ae7"><span class="section-number-4">6.6.1</span> scikit-learn</h4>
</div>
<div id="outline-container-orgc6d6f1a" class="outline-4">
<h4 id="orgc6d6f1a"><span class="section-number-4">6.6.2</span> scikit-image</h4>
</div>
<div id="outline-container-org474c884" class="outline-4">
<h4 id="org474c884"><span class="section-number-4">6.6.3</span> scikits-cuda</h4>
</div>
</div>

<div id="outline-container-org8fa0583" class="outline-3">
<h3 id="org8fa0583"><span class="section-number-3">6.7</span> Blaze</h3>
<div class="outline-text-3" id="text-6-7">
<ul class="org-ul">
<li>Big data(too big to fit in RAM)</li>
<li>tight integration with Pandas dataframes</li>
</ul>

<p>
<a href="https://github.com/blaze/blaze">https://github.com/blaze/blaze</a>
</p>
</div>
</div>
<div id="outline-container-org04fd99f" class="outline-3">
<h3 id="org04fd99f"><span class="section-number-3">6.8</span> bcolz</h3>
<div class="outline-text-3" id="text-6-8">
<p>
columnar and compressed data containers(either in-memory and on-disk)
</p>
<ul class="org-ul">
<li>based on numpy</li>
<li>support for PyTables and pandas dataframes</li>
<li>takes advantage of multi-core architecture</li>
</ul>

<p>
<a href="https://github.com/Blosc/bcolz">https://github.com/Blosc/bcolz</a>
</p>
</div>
</div>
<div id="outline-container-org52b234a" class="outline-3">
<h3 id="org52b234a"><span class="section-number-3">6.9</span> Enthought Tool-Suite (ETS)</h3>
<div class="outline-text-3" id="text-6-9">
<p>
ETS is a collection of components developed by Enthought and our partners,
which we use every day to construct custom scientific applications.
</p>
</div>
<div id="outline-container-org89c9d5c" class="outline-4">
<h4 id="org89c9d5c"><span class="section-number-4">6.9.1</span> Chaco</h4>
<div class="outline-text-4" id="text-6-9-1">
<p>
2-Dimensional Plotting, interactive visualization.
</p>
</div>
</div>
<div id="outline-container-org77f8a7f" class="outline-4">
<h4 id="org77f8a7f"><span class="section-number-4">6.9.2</span> Mayavi</h4>
<div class="outline-text-4" id="text-6-9-2">
<p>
Another Enthought-supported 3D visualization package that sits on VTK.
</p>
</div>
</div>
</div>
<div id="outline-container-org522bfea" class="outline-3">
<h3 id="org522bfea"><span class="section-number-3">6.10</span> dateutil</h3>
<div class="outline-text-3" id="text-6-10">
<p>
parser.parse: parse datetime str to datetime object
</p>
</div>
</div>
<div id="outline-container-org3328040" class="outline-3">
<h3 id="org3328040"><span class="section-number-3">6.11</span> bottleneck</h3>
<div class="outline-text-3" id="text-6-11">
<p>
provides an alternate implementation of NaN-friendly moving window functions.
</p>
</div>
</div>
<div id="outline-container-orga46b433" class="outline-3">
<h3 id="orga46b433"><span class="section-number-3">6.12</span> SWIG</h3>
<div class="outline-text-3" id="text-6-12">
<p>
Wrapper for c, c++ libraries.
</p>
<ul class="org-ul">
<li>generate python PYD</li>
</ul>
</div>
</div>
<div id="outline-container-org769c78e" class="outline-3">
<h3 id="org769c78e"><span class="section-number-3">6.13</span> zipline</h3>
</div>
</div>
<div id="outline-container-org3dd20bd" class="outline-2">
<h2 id="org3dd20bd"><span class="section-number-2">7</span> hdf</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-orgf47e4fb" class="outline-3">
<h3 id="orgf47e4fb"><span class="section-number-3">7.1</span> dataset</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">f</span> = h5py.File<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">"testfile.hdf5"</span><span style="color: #3a81c3;">)</span>
<span style="color: #715ab1;">dset</span> = f.create_dataset<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">"big dataset"</span>, <span style="color: #6c3163;">(</span><span style="color: #4e3163;">1024</span>**<span style="color: #4e3163;">3</span>, <span style="color: #6c3163;">)</span>, dtype=np.float32<span style="color: #3a81c3;">)</span>
<span style="color: #715ab1;">dset</span><span style="color: #3a81c3;">[</span><span style="color: #4e3163;">0</span>:<span style="color: #4e3163;">1024</span><span style="color: #3a81c3;">]</span> = np.arange<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">1024</span><span style="color: #3a81c3;">)</span>
f.flush<span style="color: #3a81c3;">()</span> <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">dump cache on disk</span>

<span style="color: #3a81c3; font-weight: bold;">with</span> dset.astype<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'float64'</span><span style="color: #3a81c3;">)</span>:
    <span style="color: #715ab1;">out</span> = dset<span style="color: #3a81c3;">[</span><span style="color: #4e3163;">0</span>,:<span style="color: #3a81c3;">]</span>
out.dtype <span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; dtype('float64')</span>
</pre>
</div>
</div>
<div id="outline-container-orged3a29b" class="outline-4">
<h4 id="orged3a29b"><span class="section-number-4">7.1.1</span> Ellipsis</h4>
<div class="outline-text-4" id="text-7-1-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">dset</span> = f.create_dataset<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'4d'</span>, shape=<span style="color: #6c3163;">(</span><span style="color: #4e3163;">100</span>, <span style="color: #4e3163;">80</span>, <span style="color: #4e3163;">50</span>, <span style="color: #4e3163;">20</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
dset<span style="color: #3a81c3;">[</span><span style="color: #4e3163;">0</span>,...,<span style="color: #4e3163;">0</span><span style="color: #3a81c3;">]</span>.shape
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; (80, 50)</span>
dset<span style="color: #3a81c3;">[</span>...<span style="color: #3a81c3;">]</span>.shape
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">=&gt; (100, 80, 50, 20)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgabc2498" class="outline-4">
<h4 id="orgabc2498"><span class="section-number-4">7.1.2</span> chunks</h4>
<div class="outline-text-4" id="text-7-1-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #715ab1;">dset</span> = f.create_dataset<span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'chunked'</span>, <span style="color: #6c3163;">(</span><span style="color: #4e3163;">100</span>,<span style="color: #4e3163;">480</span>,<span style="color: #4e3163;">640</span><span style="color: #6c3163;">)</span>, dtype=<span style="color: #2d9574;">'i1'</span>, chunks=<span style="color: #6c3163;">(</span><span style="color: #4e3163;">1</span>, <span style="color: #4e3163;">64</span>, <span style="color: #4e3163;">64</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf91ce53" class="outline-3">
<h3 id="orgf91ce53"><span class="section-number-3">7.2</span> lookup tools</h3>
<div class="outline-text-3" id="text-7-2">
<ul class="org-ul">
<li>ViTables</li>
<li>h5ls</li>
</ul>
</div>
</div>

<div id="outline-container-org5746d4f" class="outline-3">
<h3 id="org5746d4f"><span class="section-number-3">7.3</span> notice</h3>
<div class="outline-text-3" id="text-7-3">
<ul class="org-ul">
<li>slice on hdf table will do read&amp;write on disk</li>
<li><p>
use np.s_ to get a slice object
</p>
<div class="org-src-container">
<pre class="src src-python">dset.read_direct<span style="color: #3a81c3;">(</span>out, source_sel=np.s_<span style="color: #6c3163;">[</span><span style="color: #4e3163;">0</span>,:<span style="color: #6c3163;">]</span>, dest_sel=np.s_<span style="color: #6c3163;">[</span><span style="color: #4e3163;">50</span>,:<span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>
</pre>
</div></li>
</ul>
</div>
</div>
</div>
</div>
</body>
</html>